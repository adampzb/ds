(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},zUnb:function(t,e,n){"use strict";n.r(e);var o=n("jhN1"),r=n("fXoL"),i=n("R1ws"),s=n("ofXK"),c=n("3Pt+"),a=n("tk/3"),u=n("tyNb"),l=n("2Vo4");const b={production:!0,baseUrl:"https://work-1-nzwyroghofseggzd.prod-runtime.all-hands.dev/api/v1/",serverUrl:"https://work-1-nzwyroghofseggzd.prod-runtime.all-hands.dev",appUrl:"https://work-2-nzwyroghofseggzd.prod-runtime.all-hands.dev/django_reddit",loginUrl:"https://work-2-nzwyroghofseggzd.prod-runtime.all-hands.dev/django_reddit/sign-in",staticUrl:"/django_reddit/assets/images/"};var d=n("XNiG");let p=(()=>{class t{constructor(t){this.http=t,this.baseUrl=`${b.baseUrl}`,this.authChange=new d.a,this.authenticated=!1,this.baseUrl=`${b.serverUrl}${this.baseUrl}`}storeItem(t,e){let n=JSON.stringify(e);n=n.replace(/\s/g,"");const o=btoa(unescape(n));localStorage.setItem(t,o)}getItem(t){const e=localStorage.getItem(t);if(null!==e){const t=decodeURIComponent(escape(atob(e)));return JSON.parse(t)}return null}removeItem(t){localStorage.removeItem(t)}getUser(){return this.http.get(this.baseUrl+"users/auth/")}getCurrentUserSubject(){return this.user}getCurrentUserLocalStorage(){var t=localStorage.getItem("user");if(t){const e=decodeURIComponent(escape(atob(t)));return JSON.parse(e)}return t}setCurrentUserLocalStorage(t){let e=JSON.stringify(t);e=e.replace(/\s/g,"");const n=btoa(unescape(e));null!=this.getCurrentUserLocalStorage()&&localStorage.removeItem("user"),localStorage.setItem("user",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t,e){this.http=t,this.storage=e,this.serverUrl=`${b.serverUrl}`,this.userInitialized=new l.a(!1),console.log("UserService: serverUrl configured as:",this.serverUrl),console.log("UserService: environment:",b),this.user=new l.a(null)}setUser(t,e){console.log("UserService: Setting user:",t),this.user.next(t),t&&this.storage.storeItem("user",t),this.userInitialized.next(!0),e&&e(t)}unsetUser(){this.user.next(null),this.storage.removeItem("user")}fetchUser(t){var e;(null===(e=this.user)||void 0===e?void 0:e.value)&&t(this.user.value);const n=this.storage.getItem("user");n?this.setUser(n,t):this.getAuthUser(e=>this.setUser(e,t))}getAuthUser(t){console.log("UserService: Fetching authenticated user from:",this.serverUrl+"/rest-auth/user/"),this.http.get(this.serverUrl+"/rest-auth/user/").subscribe(e=>{console.log("UserService: Auth user response:",e),t(e)},e=>{console.error("UserService: Auth user error:",e),t(null)})}getUserByUsername(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/")}register(t){const e=this.serverUrl+"/rest-auth/registration/";return console.log("UserService: Making registration request to:",e),console.log("UserService: Registration data:",t),this.http.post(e,t)}login(t){const e=this.serverUrl+"/rest-auth/login/";return console.log("UserService: Making login request to:",e),console.log("UserService: Login data:",t),this.http.post(e,t)}logout(){return this.http.post(this.serverUrl+"/rest-auth/logout/",{})}addInterests(t){}userInvitations(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/invitations/")}userRequestedGroups(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/requested_groups/")}userInvites(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/user_invites/")}userUpvotes(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/user_upvotes/")}userDownvotes(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/user_downvotes/")}getBookmarks(t){return this.http.get(this.serverUrl+"/api/v1/users/"+t+"/bookmarks/")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b),r.Yb(p))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(t){this.http=t,this.baseUrl=`${b.serverUrl}${b.baseUrl}`}createPost(t){return this.http.post(this.baseUrl+"post/self/",t)}getPosts(t){return this.http.get(this.baseUrl+"posts/?page="+t)}getPostDetail(t){return this.http.get(this.baseUrl+"posts/"+t+"/")}searchPosts(t,e){return this.http.get(this.baseUrl+"posts/?search="+t+"&page="+e)}addBookmark(t,e){return this.http.post(this.baseUrl+"posts/"+t+"/bookmarks/",e)}removeBookmark(t,e){return this.http.delete(this.baseUrl+"posts/"+t+"/bookmarks/"+e+"/")}upvotePost(t){return this.http.put(this.baseUrl+"posts/"+t+"/upvote/",{})}downvotePost(t){return this.http.put(this.baseUrl+"posts/"+t+"/downvote/",{})}removePostVote(t){return this.http.put(this.baseUrl+"posts/"+t+"/remove_vote/",{})}filterPosts(t,e,n,o,r){return this.http.get(this.baseUrl+"posts/?page="+t+"&title="+e+"&status="+n+"&group="+o+"&author="+r)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t){this.http=t,this.baseUrl=`${b.serverUrl}${b.baseUrl}`}createGroup(t){return this.http.post(this.baseUrl+"groups/",t)}getGroups(){return this.http.get(this.baseUrl+"groups/")}getGroupPosts(t){return this.http.get(this.baseUrl+"groups/"+t+"/posts/")}getGroupDetail(t){return this.http.get(this.baseUrl+"groups/"+t+"/")}getUserGroups(t,e,n){return this.http.get(this.baseUrl+"groups/?group_type="+t+"&members__user="+e+"&members__member_type="+n)}filterMembers(t,e,n){return this.http.get(this.baseUrl+"members/?member_type="+t+"&group="+e+"&user="+n)}joinGroup(t,e){return this.http.post(this.baseUrl+"groups/"+t+"/member_requests/",e)}cancelRequest(t,e){return this.http.delete(this.baseUrl+"groups/"+t+"/member_requests/"+e+"/")}leaveGroup(t,e){return this.http.put(this.baseUrl+"groups/"+t+"/leave_group/",e)}inviteMember(t,e){return this.http.post(this.baseUrl+"groups/"+t+"/invites/",e)}addGroupRule(t,e){return this.http.post(this.baseUrl+"groups/"+t+"/rules/",e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=n("XiUz"),v=n("znSr"),x=n("MutI"),_=n("Wp6s");function U(t,e){1&t&&(r.Sb(0),r.Dc(1," Loading... "),r.Rb())}function w(t,e){1&t&&(r.Ub(0,"div",3),r.Ub(1,"div",4),r.Ub(2,"div",5),r.Pb(3,"div",6),r.Pb(4,"span",7),r.Tb(),r.Tb(),r.Ub(5,"mat-card-title"),r.Pb(6,"span",8),r.Pb(7,"span",8),r.Tb(),r.Ub(8,"mat-card-content"),r.Pb(9,"span",9),r.Pb(10,"span",9),r.Pb(11,"span",9),r.Tb(),r.Ub(12,"div",10),r.Pb(13,"div",11),r.Pb(14,"div",11),r.Pb(15,"div",11),r.Pb(16,"div",11),r.Tb(),r.Tb())}let y=(()=>{class t{constructor(){this.detail=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-post-loader"]],inputs:{detail:"detail"},decls:4,vars:2,consts:[[1,"post-card"],[4,"ngIf","ngIfElse"],["listTemplate",""],[1,"card-content"],[1,"card-meta"],["fxLayout","row","fxLayoutAlign","start center"],[1,"user-avatar","pulse"],[1,"group-text","pulse"],[1,"post-title","pulse"],[1,"post-content","pulse"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","start center",1,"card-actions"],[1,"mat-icon","pulse"]],template:function(t,e){if(1&t&&(r.Ub(0,"mat-card",0),r.Bc(1,U,2,0,"ng-container",1),r.Bc(2,w,17,0,"ng-template",null,2,r.Cc),r.Tb()),2&t){const t=r.rc(3);r.Db(1),r.mc("ngIf",e.detail)("ngIfElse",t)}},directives:[_.a,s.l,f.c,f.b,_.d,_.b,f.d],styles:[".card-meta[_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%], .card-meta[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%], .mat-icon[_ngcontent-%COMP%], .post-content[_ngcontent-%COMP%], .post-title[_ngcontent-%COMP%], .sub-text[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:12px;width:100%;display:inline-block;margin-bottom:6px}.card-meta[_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]:after, .card-meta[_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]:before, .card-meta[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:after, .card-meta[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:before, .mat-icon[_ngcontent-%COMP%]:after, .mat-icon[_ngcontent-%COMP%]:before, .post-content[_ngcontent-%COMP%]:after, .post-content[_ngcontent-%COMP%]:before, .post-title[_ngcontent-%COMP%]:after, .post-title[_ngcontent-%COMP%]:before, .sub-text[_ngcontent-%COMP%]:after, .sub-text[_ngcontent-%COMP%]:before{box-sizing:border-box}.card-meta[_ngcontent-%COMP%]   .progress.group-text[_ngcontent-%COMP%], .card-meta[_ngcontent-%COMP%]   .progress.user-avatar[_ngcontent-%COMP%], .progress.mat-icon[_ngcontent-%COMP%], .progress.post-content[_ngcontent-%COMP%], .progress.post-title[_ngcontent-%COMP%], .progress.sub-text[_ngcontent-%COMP%]{animation:progress 2s ease-in-out infinite;background-size:200px 100%;background-image:linear-gradient(90deg,#fff0,#ffffff80,#fff0)}.card-meta[_ngcontent-%COMP%]   .pulse.group-text[_ngcontent-%COMP%], .card-meta[_ngcontent-%COMP%]   .pulse.user-avatar[_ngcontent-%COMP%], .pulse.mat-icon[_ngcontent-%COMP%], .pulse.post-content[_ngcontent-%COMP%], .pulse.post-title[_ngcontent-%COMP%], .pulse.sub-text[_ngcontent-%COMP%]{animation:pulse 1.5s ease-in-out infinite;animation-delay:.5s;background-image:linear-gradient(90deg,#fff0,#ffffff80,#fff0)}@keyframes pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.post-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:0;width:inherit;margin:16px 0}.card-content[_ngcontent-%COMP%]{padding:20px 20px 20px 0;margin-left:64px;width:100%}.card-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:6px;margin-bottom:12px;font-size:.7rem}.card-meta[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:8px}.card-meta[_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]{width:250px;height:14px}.post-title[_ngcontent-%COMP%]{height:16px;width:100%}.post-title[_ngcontent-%COMP%]:last-child{width:70%}.post-content[_ngcontent-%COMP%]{height:14px;width:100%}.post-content[_ngcontent-%COMP%]:nth-child(2n){width:70%}.sub-text[_ngcontent-%COMP%]{width:70px;height:12px}.mat-icon[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.mat-icon[_ngcontent-%COMP%]:last-child{margin-left:auto}"]}),t})();var C=n("0IaG");let D=(()=>{class t{constructor(t){this.http=t,this.baseUrl=`${b.serverUrl}${b.baseUrl}`}getReportTypes(){return this.http.get(this.baseUrl+"report_types/")}createReport(t,e){return this.http.post(this.baseUrl+"posts/"+t+"/reports/",e)}redactReport(t,e){return this.http.put(this.baseUrl+"posts/"+t+"/reports/"+e+"/redact/",{})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("jaxi"),T=n("bTqV");function O(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"mat-button-toggle",7),r.cc("change",function(e){return r.tc(t),r.gc().radioSelectEvent(e)}),r.Dc(2),r.Tb(),r.Rb()}if(2&t){const t=e.$implicit;r.Db(1),r.mc("value",t)("disableRipple",!0),r.Db(1),r.Ec(t.title)}}function k(t,e){if(1&t&&(r.Ub(0,"p",8),r.Dc(1),r.Tb()),2&t){const t=r.gc();r.Db(1),r.Ec(t.selectedType.info)}}let I=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.reportService=n,this.validateUrlRegex=/(^|\s)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/gi,this.reportInfoControl=new c.d,this.urlControl=new c.d("",{validators:[c.r.required,c.r.pattern(this.validateUrlRegex)]}),this.typeControl=new c.d,this.types=[]}ngOnInit(){this.getReportTypes()}getReportTypes(){this.reportService.getReportTypes().subscribe(t=>{this.types=t})}radioSelectEvent(t){console.log(t),this.selectedType=t.value}create(){this.dialogRef.close(this.selectedType)}closeDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(C.f),r.Ob(C.a),r.Ob(D))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-report-dialog"]],decls:11,vars:2,consts:[[2,"margin-top","0"],["name","reportType","aria-label","Report Type",1,"report-section"],[4,"ngFor","ngForOf"],["class","report-subtext",4,"ngIf"],[1,"flex-buttons"],["mat-stroked-button","","color","warn",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"report-toggle-button",3,"value","disableRipple","change"],[1,"report-subtext"]],template:function(t,e){1&t&&(r.Ub(0,"h3",0),r.Dc(1,"Submit a report"),r.Tb(),r.Ub(2,"mat-button-toggle-group",1),r.Bc(3,O,3,3,"ng-container",2),r.Tb(),r.Ub(4,"div"),r.Bc(5,k,2,1,"p",3),r.Tb(),r.Ub(6,"div",4),r.Ub(7,"button",5),r.cc("click",function(){return e.closeDialog()}),r.Dc(8,"Cancel"),r.Tb(),r.Ub(9,"button",6),r.cc("click",function(){return e.create()}),r.Dc(10,"Submit"),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.mc("ngForOf",e.types),r.Db(2),r.mc("ngIf",e.selectedType))},directives:[P.b,s.k,s.l,T.b,P.a],styles:[".report-subtext[_ngcontent-%COMP%]{color:#707070;font-size:12px}.report-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border:none}.report-toggle-button[_ngcontent-%COMP%], .report-toggle-button[_ngcontent-%COMP%]:focus, .report-toggle-button[_ngcontent-%COMP%]:hover{border:none;border-radius:30px;font-size:14px}.report-toggle-button[_ngcontent-%COMP%]:active, .report-toggle-button[_ngcontent-%COMP%]:focus:active, .report-toggle-button[_ngcontent-%COMP%]:hover:active{background-color:#f14a25;color:#fff}.mat-button-toggle-group-appearance-standard[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%] + .mat-button-toggle[_ngcontent-%COMP%]{border:none}.mat-button-toggle-checked.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{background:#f15a24;color:#fff}.mat-button-toggle-focus-overlay[_ngcontent-%COMP%]{opacity:1!important}.mat-button-toggle-checked[_ngcontent-%COMP%]   .mat-button-toggle-focus-overlay[_ngcontent-%COMP%]{border-bottom:none!important}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%]{line-height:36px!important}.flex-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px;justify-content:flex-end}"]}),t})();var M=n("NFeN"),L=n("STbY"),S=n("E6Fm");let F=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o.b))},t.\u0275pipe=r.Nb({name:"safeContent",type:t,pure:!0}),t})();const B=function(t){return["group",t]};function R(t,e){if(1&t&&(r.Ub(0,"span",19),r.Ub(1,"a",10),r.Dc(2),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(1),r.mc("routerLink",r.oc(2,B,t.post.group.id)),r.Db(1),r.Fc("g/",t.post.group.name," .")}}function E(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"span",20),r.hc(2,"safeContent"),r.hc(3,"slice"),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("innerHtml",r.ic(2,1,r.jc(3,3,t.post.content,0,300)),r.uc)}}function G(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"span",20),r.hc(2,"safeContent"),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("innerHtml",r.ic(2,1,t.post.content),r.uc)}}function A(t,e){if(1&t&&(r.Sb(0),r.Dc(1),r.Rb()),2&t){const t=r.gc(2);r.Db(1),r.Fc(" ",t.post.comments," comments ")}}function z(t,e){1&t&&r.Dc(0," Add comment ")}function V(t,e){1&t&&(r.Sb(0),r.Ub(1,"mat-icon",29),r.Dc(2,"bookmark"),r.Tb(),r.Rb())}function j(t,e){1&t&&(r.Ub(0,"mat-icon",29),r.Dc(1,"bookmark_border"),r.Tb())}const $=function(t){return["",t]};function q(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"div",21),r.Ub(2,"a",10),r.Ub(3,"mat-icon",22),r.Dc(4,"insert_comment"),r.Tb(),r.Ub(5,"span",23),r.Bc(6,A,2,1,"ng-container",24),r.Bc(7,z,1,0,"ng-template",null,25,r.Cc),r.Tb(),r.Tb(),r.Ub(9,"button",26),r.Ub(10,"mat-icon"),r.Dc(11,"share"),r.Tb(),r.Tb(),r.Ub(12,"button",27),r.cc("click",function(){return r.tc(t),r.gc().checkBookmark()}),r.Bc(13,V,3,0,"ng-container",24),r.Bc(14,j,2,0,"ng-template",null,28,r.Cc),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.rc(8),e=r.rc(15),n=r.gc();r.Db(2),r.mc("routerLink",r.oc(5,$,n.post.uuid)),r.Db(4),r.mc("ngIf",n.post.comments>0||"ARCHIVED"===n.post.status)("ngIfElse",t),r.Db(7),r.mc("ngIf",null==n.post.user_bookmark?null:n.post.user_bookmark.id)("ngIfElse",e)}}const N=function(t){return{"archived-card":t}},H=function(t){return{"active-icon":t}},Y=function(t){return["user",t]};let K=(()=>{class t{constructor(t,e){this.postService=t,this.dialog=e,this.showFooter=!0,this.user_vote=0}ngOnInit(){var t,e;this.user_vote=null===(e=null===(t=this.post)||void 0===t?void 0:t.user_vote)||void 0===e?void 0:e.vote}upvoteClicked(){this.user_id&&(1==this.user_vote?this.removeVote():this.upvote())}downvoteClicked(){this.user_id&&(-1==this.user_vote?this.removeVote():this.downvote())}upvote(){this.postService.upvotePost(this.post.uuid).subscribe(t=>{this.setVoteData(t)},t=>{console.log(t)})}downvote(){this.postService.downvotePost(this.post.uuid).subscribe(t=>{this.setVoteData(t)},t=>{console.log(t)})}removeVote(){this.postService.removePostVote(this.post.uuid).subscribe(t=>{this.setVoteData(t)},t=>{console.log(t)})}setVoteData(t){this.user_vote=null==t?void 0:t.vote,this.post.votes=null==t?void 0:t.votes}checkBookmark(){this.post.user_bookmark?this.removeBookmark():this.addBookmark()}removeBookmark(){this.postService.removeBookmark(this.post.uuid,this.post.user_bookmark.id).subscribe(t=>{this.post.user_bookmark=null},t=>{console.log(t)})}addBookmark(){this.postService.addBookmark(this.post.uuid,{user:this.user_id}).subscribe(t=>{this.post.user_bookmark=t},t=>{console.log(t)})}sharePost(t){}report(){if(this.user_id){const t=window.innerWidth<=540?"90vw":"527px";this.dialog.open(I,{width:t,maxWidth:t,data:{user:this.user_id,uuid:this.post.uuid,url:`${window.location.href}`}}).afterClosed().subscribe(t=>{t&&(this.post.report=t)})}else this.redirectToLogin()}redirectToLogin(){window.location.href=`${b.loginUrl}`}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(g),r.Ob(C.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-post"]],inputs:{post:"post",user_id:"user_id",showFooter:"showFooter"},decls:45,vars:31,consts:[[1,"post-card",3,"ngClass"],[1,"likes-section"],["mat-icon-button","",3,"click"],[1,"large-icon",3,"ngClass"],[1,"count-text"],[1,"card-content"],[1,"card-meta"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","start center"],["alt","","src","/static/assets/images/default_user.png",1,"user-avatar"],["class","font-bold",4,"ngIf"],[3,"routerLink"],[1,"timestamp"],[2,"display","flex","align-items","center"],["mat-icon-button","",2,"float","right",3,"matMenuTriggerFor"],["headerMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],[1,"",3,"routerLink"],[4,"ngIf"],[1,"font-bold"],[3,"innerHtml"],["fxLayout","row","fxLayoutGap","12px","fxLayoutAlign","start center",1,"card-actions"],[1,"card-actions-icon",2,"vertical-align","middle"],[1,"sub-text"],[4,"ngIf","ngIfElse"],["viewTemplate",""],["mat-icon-button","",1,"card-actions-icon"],["mat-icon-button","",2,"margin-left","auto",3,"click"],["bookmarkTemplate",""],[1,"card-actions-icon"]],template:function(t,e){if(1&t&&(r.Ub(0,"mat-card",0),r.Ub(1,"div",1),r.Ub(2,"button",2),r.cc("click",function(){return e.upvoteClicked()}),r.Ub(3,"mat-icon",3),r.Dc(4,"keyboard_arrow_up"),r.Tb(),r.Tb(),r.Ub(5,"span",4),r.Dc(6),r.Tb(),r.Ub(7,"button",2),r.cc("click",function(){return e.downvoteClicked()}),r.Ub(8,"mat-icon",3),r.Dc(9,"keyboard_arrow_down"),r.Tb(),r.Tb(),r.Tb(),r.Ub(10,"div",5),r.Ub(11,"div",6),r.Ub(12,"div",7),r.Pb(13,"img",8),r.Bc(14,R,3,4,"span",9),r.Ub(15,"span"),r.Ub(16,"a",10),r.Dc(17),r.Tb(),r.Tb(),r.Ub(18,"span",11),r.Dc(19),r.hc(20,"timeSince"),r.Tb(),r.Tb(),r.Ub(21,"div",12),r.Ub(22,"button",13),r.Ub(23,"mat-icon"),r.Dc(24,"more_vert"),r.Tb(),r.Tb(),r.Ub(25,"mat-menu",null,14),r.Ub(27,"button",15),r.cc("click",function(){return e.report()}),r.Ub(28,"mat-icon"),r.Dc(29,"outlined_flag"),r.Tb(),r.Ub(30,"span"),r.Dc(31),r.Tb(),r.Tb(),r.Ub(32,"button",16),r.Ub(33,"mat-icon"),r.Dc(34,"visibility_off"),r.Tb(),r.Ub(35,"span"),r.Dc(36,"Hide"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(37,"mat-card-title"),r.Ub(38,"a",17),r.Dc(39),r.hc(40,"slice"),r.Tb(),r.Tb(),r.Ub(41,"mat-card-content"),r.Bc(42,E,4,7,"ng-container",18),r.Bc(43,G,3,3,"ng-container",18),r.Tb(),r.Bc(44,q,16,7,"ng-container",18),r.Tb(),r.Tb()),2&t){const t=r.rc(26);r.mc("ngClass",r.oc(21,N,"ARCHIVED"===e.post.status)),r.Db(3),r.mc("ngClass",r.oc(23,H,1===e.user_vote)),r.Db(3),r.Ec(e.post.votes),r.Db(2),r.mc("ngClass",r.oc(25,H,-1===e.user_vote)),r.Db(6),r.mc("ngIf",null==e.post?null:e.post.group),r.Db(2),r.mc("routerLink",r.oc(27,Y,e.post.author.username)),r.Db(1),r.Fc("Posted by u/",e.post.author.username,""),r.Db(2),r.Fc("",r.ic(20,15,e.post.created_at)," ago"),r.Db(3),r.mc("matMenuTriggerFor",t),r.Db(9),r.Ec(null!=e.post&&null!=e.post.report&&e.post.report.id?"Redact":"Report"),r.Db(7),r.mc("routerLink",r.oc(29,$,e.post.uuid)),r.Db(1),r.Fc(" ",r.jc(40,17,e.post.title,0,100)," "),r.Db(3),r.mc("ngIf",e.post.content.length>300),r.Db(1),r.mc("ngIf",e.post.content.length<=300),r.Db(1),r.mc("ngIf",e.showFooter)}},directives:[_.a,s.j,v.a,T.b,M.a,f.c,f.d,f.b,s.l,u.d,L.d,L.a,L.b,_.d,_.b],pipes:[S.b,s.v,F],styles:[".post-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:0;width:100%;margin:16px 0}.archived-card[_ngcontent-%COMP%]{background-color:#dcdcdc}.likes-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px;padding-left:10px;padding-top:20px;padding-right:10px}.likes-section[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-size:.8rem;color:#707070;text-align:center}.card-content[_ngcontent-%COMP%]{padding:20px 20px 20px 0;width:inherit}.card-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:6px;margin-bottom:12px;font-size:.7rem}.card-meta[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px}.card-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:500}.card-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child, .timestamp[_ngcontent-%COMP%]{color:#707070}.timestamp[_ngcontent-%COMP%]{float:right}.card-actions[_ngcontent-%COMP%]   .card-actions-icon[_ngcontent-%COMP%], .sub-text[_ngcontent-%COMP%]{color:#707070}.sub-text[_ngcontent-%COMP%]{font-size:.8rem;text-align:center;margin-right:10px}.large-icon[_ngcontent-%COMP%]{font-size:40px;height:40px;width:40px;color:#a19999;display:inherit;font-weight:700}.large-icon.active-icon[_ngcontent-%COMP%]{color:#dc281e!important}"]}),t})();var X=n("Xa2L"),J=n("FKr1");function W(t,e){1&t&&(r.Sb(0),r.Pb(1,"app-post-loader"),r.Pb(2,"app-post-loader"),r.Pb(3,"app-post-loader"),r.Pb(4,"app-post-loader"),r.Pb(5,"app-post-loader"),r.Rb())}function Q(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",10),r.Rb()),2&t){const t=e.$implicit,n=r.gc(2);r.Db(1),r.mc("post",t)("user_id",null==n.user?null:n.user.id)}}function Z(t,e){if(1&t&&r.Bc(0,Q,2,2,"ng-container",9),2&t){const t=r.gc();r.mc("ngForOf",t.posts)}}function tt(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",12),r.Pb(2,"mat-spinner",13),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",30))}function et(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",12),r.Ub(1,"button",15),r.cc("click",function(){return r.tc(t),r.gc(3).loadMorePosts()}),r.Dc(2,"Load more posts"),r.Tb(),r.Tb()}}function nt(t,e){if(1&t&&r.Bc(0,et,3,0,"div",14),2&t){const t=r.gc(2);r.mc("ngIf",!t.showSpinner&&t.next)}}function ot(t,e){if(1&t&&(r.Sb(0),r.Bc(1,tt,3,1,"ng-container",3),r.Bc(2,nt,1,1,"ng-template",null,11,r.Cc),r.Rb()),2&t){const t=r.rc(3),e=r.gc();r.Db(1),r.mc("ngIf",e.showLoader)("ngIfElse",t)}}const rt=function(t){return["group",t]};function it(t,e){if(1&t&&(r.Ub(0,"mat-list-item"),r.Ub(1,"a",16),r.Dc(2),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.mc("routerLink",r.oc(2,rt,t.id)),r.Db(1),r.Fc("u/",t.name,"")}}let st=(()=>{class t{constructor(t,e,n){this.userService=t,this.postService=e,this.groupService=n,this.isLoading=!1,this.posts=[],this.page=1,this.showLoader=!1,this.groups=[]}ngOnInit(){this.getAuthUser(),this.getPosts(),this.topGroups()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})})}getPosts(){this.showLoader||(this.isLoading=!0),this.postService.getPosts(this.page).subscribe(t=>{this.posts=[...this.posts,...t.results],this.next=t.next,this.next&&(this.page=parseInt(this.next.split("=")[1])),this.isLoading=!1,this.showLoader=!1},t=>{console.log(t),this.isLoading=!1,this.showLoader=!1})}topGroups(){this.groupService.getGroups().subscribe(t=>{this.groups=t})}loadMorePosts(){this.showLoader=!0,this.getPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(g),r.Ob(h))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-feed"]],decls:13,vars:4,consts:[["fxLayout","row","fxLayoutGap","16px"],["fxLayout","column","fxFlex","70","fxFlex.lt-lg","100"],[1,"width-100"],[4,"ngIf","ngIfElse"],["showPosts",""],[4,"ngIf"],["fxLayout","column","fxFlex","30","fxHide.lt-lg",""],[1,"related-section"],[1,"heading-5","text-uppercase"],[4,"ngFor","ngForOf"],[3,"post","user_id"],["buttonview",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",2,"height","100px"],["color","warn",3,"diameter"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px","style","height: 100px",4,"ngIf"],["mat-raised-button","",3,"click"],["matLine","",1,"font-bold",3,"routerLink"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Bc(3,W,6,0,"ng-container",3),r.Bc(4,Z,1,1,"ng-template",null,4,r.Cc),r.Bc(6,ot,4,2,"ng-container",5),r.Tb(),r.Tb(),r.Ub(7,"div",6),r.Ub(8,"div",7),r.Ub(9,"span",8),r.Dc(10," Top Communities "),r.Tb(),r.Ub(11,"mat-nav-list"),r.Bc(12,it,3,4,"mat-list-item",9),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.rc(5);r.Db(3),r.mc("ngIf",e.isLoading)("ngIfElse",t),r.Db(3),r.mc("ngIf",e.next),r.Db(6),r.mc("ngForOf",e.groups)}},directives:[f.c,f.d,f.a,s.l,v.b,x.c,s.k,y,K,f.b,X.b,T.b,x.a,u.d,J.j],styles:[".related-section[_ngcontent-%COMP%]{background-color:#fff;min-height:300px;margin-top:16px;border:1px solid #dedede;border-radius:8px;padding:16px}"]}),t})();var ct=n("dNgK"),at=n("qFsG"),ut=n("kmnG");const lt=function(){return["../sign-up"]};let bt=(()=>{class t{constructor(t,e,n){this.userService=t,this.router=e,this.snackbar=n,this.isLoading=!1,this.hidePassword=!0}ngOnInit(){this.loginForm=new c.f({email:new c.d("",{validators:[c.r.required,c.r.email]}),password:new c.d("",{validators:[c.r.required]})})}toggleVisibility(){this.hidePassword=!this.hidePassword}onSubmit(){if(console.log("Sign-in form submitted"),console.log("Form valid:",this.loginForm.valid),console.log("Form values:",this.loginForm.value),!this.loginForm.valid)return console.log("Form is invalid, not submitting"),void this.snackbar.open("Please fill in all required fields","Close",{duration:3e3});const t={email:this.loginForm.value.email,password:this.loginForm.value.password};console.log("Sending login request with data:",t),this.isLoading=!0,this.userService.login(t).subscribe(t=>{console.log("Login successful:",t),this.isLoading=!1,t.key&&(localStorage.setItem("auth_token",t.key),console.log("Auth token stored:",t.key)),this.userService.getAuthUser(t=>{console.log("User profile fetched after login:",t),t&&this.userService.setUser(t)}),this.snackbar.open("Successfully logged in","Close",{duration:3e3}),this.router.navigate([""])},t=>{console.error("Login error:",t),this.isLoading=!1,this.snackbar.open(t.error?t.error.non_field_errors?t.error.non_field_errors[0]:t.error.email?t.error.email[0]:"Login failed. Please try again.":"Network error. Please check your connection.","Close",{duration:5e3})})}onGoogleLogin(){console.log("Google login clicked"),this.snackbar.open("Google login is not configured yet. Please contact the administrator.","Close",{duration:5e3})}onFacebookLogin(){console.log("Facebook login clicked"),this.snackbar.open("Facebook login is not configured yet. Please contact the administrator.","Close",{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(u.c),r.Ob(ct.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-sign-in"]],decls:37,vars:7,consts:[[1,"auth-container"],[1,"login-form"],["align","center",1,"text-white"],[1,"buttons-section"],["mat-button","",1,"custom-button",2,"border-color","rgb(255, 92, 136)",3,"click"],["mat-button","",1,"custom-button",2,"border-color","rgb(255, 192, 93)",3,"click"],[1,"separator-section"],[1,"divider-left"],["align","center"],[1,"divider-right"],["autocomplete","off",1,"auth-form",3,"formGroup"],[1,"width-100","margin-bottom-4"],["for","email"],["matInput","","id","email","placeholder","jane@email.com","formControlName","email","type","email","required","",1,"form-input"],[1,""],[1,"width-100","margin-bottom-4",2,"position","relative"],["for","password"],["matInput","","id","password","placeholder","wonderfullemon dankworld","formControlName","password","required","",1,"form-input",3,"type"],["mat-icon-button","","matSuffix","",1,"toggle-visibility-btn",3,"click"],["mat-button","","color","primary",1,"margin-top-4","width-100","custom-button","block-button","submit-button",3,"click"],[1,"underline","button-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h2",2),r.Dc(3,"Sign in to Django Reddit "),r.Tb(),r.Ub(4,"div",3),r.Ub(5,"button",4),r.cc("click",function(){return e.onGoogleLogin()}),r.Ub(6,"mat-icon"),r.Dc(7,"account_circle"),r.Tb(),r.Dc(8," Google "),r.Tb(),r.Ub(9,"button",5),r.cc("click",function(){return e.onFacebookLogin()}),r.Ub(10,"mat-icon"),r.Dc(11,"facebook"),r.Tb(),r.Dc(12," Facebook "),r.Tb(),r.Tb(),r.Ub(13,"div",6),r.Pb(14,"div",7),r.Ub(15,"p",8),r.Dc(16,"OR"),r.Tb(),r.Pb(17,"div",9),r.Tb(),r.Ub(18,"form",10),r.Ub(19,"div",11),r.Ub(20,"label",12),r.Dc(21,"Email"),r.Tb(),r.Pb(22,"input",13),r.Tb(),r.Pb(23,"div",14),r.Ub(24,"div",15),r.Ub(25,"label",16),r.Dc(26,"Password"),r.Tb(),r.Pb(27,"input",17),r.Ub(28,"button",18),r.cc("click",function(){return e.toggleVisibility()}),r.Ub(29,"mat-icon"),r.Dc(30),r.Tb(),r.Tb(),r.Tb(),r.Ub(31,"button",19),r.cc("click",function(){return e.onSubmit()}),r.Dc(32," Submit "),r.Tb(),r.Ub(33,"p"),r.Dc(34,"Haven't registered yet? "),r.Ub(35,"a",20),r.Dc(36,"Sign Up"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(18),r.mc("formGroup",e.loginForm),r.Db(9),r.mc("type",e.hidePassword?"password":"text"),r.Db(1),r.Eb("aria-label","Hide password")("aria-pressed",e.hidePassword),r.Db(2),r.Ec(e.hidePassword?"visibility_off":"visibility"),r.Db(5),r.mc("routerLink",r.nc(6,lt)))},directives:[T.b,M.a,c.s,c.n,c.g,at.b,c.c,c.m,c.e,c.q,ut.g,u.d],styles:[".width-100[_ngcontent-%COMP%]{width:100%}.auth-container[_ngcontent-%COMP%]{background-color:brown;background-repeat:no-repeat;background-size:cover;display:flex;width:100vw;height:100vh;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:400px;width:100%;color:#fff;padding:16px;display:block}.login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:6px 0}.form-input[_ngcontent-%COMP%]{outline:none;border:1px solid #e6e6e6;padding:16px 12px;margin:8px 0;font-size:.8rem;width:-webkit-fill-available;display:inline-flex;background:#0000;border-radius:6px;color:#fff}.form-input[_ngcontent-%COMP%]::placeholder{color:inherit}.custom-button[_ngcontent-%COMP%]{outline:none;border:1px solid #fff;margin-top:12px;margin-bottom:12px;font-size:.8rem;color:#fff;border-radius:6px;background:#0000;width:50%;padding:2px}.custom-button.block-button[_ngcontent-%COMP%]{width:100%}.custom-button[_ngcontent-%COMP%]:focus, .custom-button[_ngcontent-%COMP%]:hover{background:#fff3}.custom-button[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:#707070;cursor:not-allowed}.custom-button.submit-button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.text-white[_ngcontent-%COMP%]{color:#fff}label[_ngcontent-%COMP%]{font-size:14px}.buttons-section[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.separator-section[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:20px;margin-bottom:12px;justify-content:center;align-items:center;border-radius:1px}.separator-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.button-link[_ngcontent-%COMP%]{outline:none;border:1px solid #fff;margin-top:12px;margin-bottom:12px;font-size:.8rem;color:#fff;border-radius:6px;background:#0000;width:33%;padding:6px;text-decoration:none;cursor:pointer}.divider-left[_ngcontent-%COMP%], .divider-right[_ngcontent-%COMP%]{display:block;height:1px;margin-right:11px;margin-left:11px;flex:1 1 0%;background-image:linear-gradient(90deg,#e9edf100 35%,#a1a5be);border-radius:2px}.divider-right[_ngcontent-%COMP%]{transform:rotate(180deg)}.toggle-visibility-btn[_ngcontent-%COMP%]{position:absolute;right:6px;top:33px;background:#0000;color:#fff}"]}),t})();const dt=function(){return["../sign-in"]};let pt=(()=>{class t{constructor(t,e,n){this.userService=t,this.router=e,this.snackbar=n,this.isLoading=!1,this.hidePassword=!0,this.errors=[]}ngOnInit(){this.registerForm=new c.f({username:new c.d("",{validators:[c.r.required]}),email:new c.d("",{validators:[c.r.required,c.r.email]}),password1:new c.d("",{validators:[c.r.required]}),password2:new c.d("",{validators:[c.r.required]})}),console.log("Updated registration form:",this.registerForm)}get formControl(){return this.registerForm.controls}toggleVisibility(){this.hidePassword=!this.hidePassword}onSubmit(){if(console.log("Sign-up form submitted"),console.log("Form valid:",this.registerForm.valid),console.log("Form values:",this.registerForm.value),console.log("Form errors:",this.getFormValidationErrors()),this.markFormGroupTouched(this.registerForm),!this.registerForm.valid)return console.log("Form is invalid, not submitting"),void this.snackbar.open("Please fill in all required fields","Close",{duration:3e3});const t={username:this.registerForm.value.username,email:this.registerForm.value.email,password1:this.registerForm.value.password1,password2:this.registerForm.value.password2};console.log("Sending registration request with data:",t),this.isLoading=!0,this.userService.register(t).subscribe(t=>{console.log("Registration successful:",t),this.isLoading=!1,this.registerForm.reset(),this.snackbar.open("Registered successfully. Proceed to login","Close",{duration:3e3}),this.router.navigate(["sign-in"])},t=>{console.error("Registration error:",t),this.isLoading=!1,this.snackbar.open(t.error?t.error.password1?`${t.error.password1[0]}`:t.error.email?`${t.error.email[0]}`:t.error.non_field_errors?t.error.non_field_errors[0]:"Registration failed. Please try again.":"Network error. Please check your connection.","Close",{duration:5e3})})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{const n=t.get(e);null==n||n.markAsTouched({onlySelf:!0})})}getFormValidationErrors(){let t={};return Object.keys(this.registerForm.controls).forEach(e=>{var n;const o=null===(n=this.registerForm.get(e))||void 0===n?void 0:n.errors;o&&(t[e]=o)}),t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(u.c),r.Ob(ct.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-sign-up"]],decls:34,vars:11,consts:[[1,"auth-container"],[1,"login-form"],["align","center",1,"text-white"],["autocomplete","off",1,"width-100","auth-form",3,"formGroup"],[1,"width-100","margin-bottom-4"],["for","username"],["id","username","placeholder","johndoe","formControlName","username","type","text",1,"form-input"],["for","email"],["id","email","placeholder","jane@email.com","formControlName","email","type","email",1,"form-input"],[1,"input-column","margin-bottom-4",2,"display","flex","gap","16px","position","relative"],[1,"width-100"],["for","password1"],["id","password1","placeholder","dankworld12","formControlName","password1",1,"form-input",3,"type"],["mat-icon-button","","matSuffix","",1,"toggle-visibility-btn",3,"click"],["for","password2"],["id","password2","placeholder","dankworld12","formControlName","password2",1,"form-input",3,"type"],["mat-button","","color","primary",1,"width-100","custom-button","block-button",3,"click"],[1,"underline","button-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h2",2),r.Dc(3,"Sign up for Django-Reddit "),r.Tb(),r.Ub(4,"form",3),r.Ub(5,"div",4),r.Ub(6,"label",5),r.Dc(7,"Username"),r.Tb(),r.Pb(8,"input",6),r.Tb(),r.Ub(9,"div",4),r.Ub(10,"label",7),r.Dc(11,"Email"),r.Tb(),r.Pb(12,"input",8),r.Tb(),r.Ub(13,"div",9),r.Ub(14,"div",10),r.Ub(15,"label",11),r.Dc(16,"Password"),r.Tb(),r.Pb(17,"input",12),r.Ub(18,"button",13),r.cc("click",function(){return e.toggleVisibility()}),r.Ub(19,"mat-icon"),r.Dc(20),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"div",10),r.Ub(22,"label",14),r.Dc(23,"Confirm password"),r.Tb(),r.Pb(24,"input",15),r.Ub(25,"button",13),r.cc("click",function(){return e.toggleVisibility()}),r.Ub(26,"mat-icon"),r.Dc(27),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(28,"button",16),r.cc("click",function(){return e.onSubmit()}),r.Dc(29,"Submit"),r.Tb(),r.Ub(30,"p"),r.Dc(31,"Already have an account? "),r.Ub(32,"a",17),r.Dc(33,"Sign In"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(4),r.mc("formGroup",e.registerForm),r.Db(13),r.mc("type",e.hidePassword?"password":"text"),r.Db(1),r.Eb("aria-label","Hide password")("aria-pressed",e.hidePassword),r.Db(2),r.Ec(e.hidePassword?"visibility_off":"visibility"),r.Db(4),r.mc("type",e.hidePassword?"password":"text"),r.Db(1),r.Eb("aria-label","Hide password")("aria-pressed",e.hidePassword),r.Db(2),r.Ec(e.hidePassword?"visibility_off":"visibility"),r.Db(5),r.mc("routerLink",r.nc(10,dt)))},directives:[c.s,c.n,c.g,c.c,c.m,c.e,T.b,ut.g,M.a,u.d],styles:[".width-100[_ngcontent-%COMP%]{width:100%}.auth-container[_ngcontent-%COMP%]{background-color:brown;background-repeat:no-repeat;background-size:cover;display:flex;width:100vw;height:100vh;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:400px;width:100%;color:#fff;padding:16px;display:block}.login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:6px 0}.form-input[_ngcontent-%COMP%]{outline:none;border:1px solid #e6e6e6;padding:16px 12px;margin:8px 0;font-size:.8rem;width:-webkit-fill-available;display:inline-flex;background:#0000;border-radius:6px;color:#fff}.form-input[_ngcontent-%COMP%]::placeholder{color:inherit}.custom-button[_ngcontent-%COMP%]{outline:none;border:1px solid #fff;margin-top:12px;margin-bottom:12px;font-size:.8rem;color:#fff;border-radius:6px;background:#0000;width:33%;padding:2px}.custom-button.block-button[_ngcontent-%COMP%]{width:100%}.custom-button[_ngcontent-%COMP%]:focus, .custom-button[_ngcontent-%COMP%]:hover{background:#fff3}.custom-button[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:#707070;cursor:not-allowed}.custom-button.submit-button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.text-white[_ngcontent-%COMP%]{color:#fff}label[_ngcontent-%COMP%]{font-size:14px}.buttons-section[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.separator-section[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:20px;margin-bottom:12px;justify-content:center;align-items:center;border-radius:1px}.separator-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.button-link[_ngcontent-%COMP%]{outline:none;border:1px solid #fff;margin-top:12px;margin-bottom:12px;font-size:.8rem;color:#fff;border-radius:6px;background:#0000;width:33%;padding:6px;text-decoration:none;cursor:pointer}.divider-left[_ngcontent-%COMP%], .divider-right[_ngcontent-%COMP%]{display:block;height:1px;margin-right:11px;margin-left:11px;flex:1 1 0%;background-image:linear-gradient(90deg,#e9edf100 35%,#a1a5be);border-radius:2px}.divider-right[_ngcontent-%COMP%]{transform:rotate(180deg)}.toggle-visibility-btn[_ngcontent-%COMP%]{position:absolute;right:6px;top:33px;background:#0000;color:#fff}"]}),t})(),mt=(()=>{class t{constructor(t){this.route=t,this.redirection={delete:{title:"You will be missed ;(",subtitle:"Your account shall be permanently deleted in 14 days.\n        If you change your mind, please send us a request mail at admin@gmail.com\n        and we shall set-up everything just like it was before.. "},deactivate:{title:"You will be missed ;(",subtitle:"Whenever you wish to reactivate your account,\n      please send us a request mail at admin@gmail.com and we shall set-up\n      everything just like it was before."}}}ngOnInit(){this.route.fragment.subscribe(t=>{this.fragment=t,this.context=this.redirection[this.fragment]}),setTimeout(()=>{window.open(`${b.appUrl}`,"_self")},3e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-sign-out"]],decls:6,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"message-container","width-100","height-100"],[1,"font-bold","width-100","text-center","heading-1"],[1,"font-sm","text-center","width-100","heading-3"]],template:function(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",0),r.Ub(2,"p",1),r.Dc(3),r.Tb(),r.Ub(4,"p",2),r.Dc(5),r.Tb(),r.Tb(),r.Rb()),2&t&&(r.Db(3),r.Ec(e.context.title),r.Db(2),r.Fc(" ",e.context.subtitle," "))},directives:[f.c,f.b],styles:[""]}),t})(),gt=(()=>{class t{constructor(t){this.userService=t,this.authenticated=!1,this.serverUrl=`${b.serverUrl}`}canActivate(t,e){var n;return this.userService.fetchUser(t=>{this.user=t}),!(!this.user&&!(null===(n=this.userService.user)||void 0===n?void 0:n.getValue()))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ht=n("Kj3r"),ft=n("/uUt"),vt=n("+z1p"),xt=n("zioG");function _t(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",2),r.Pb(2,"mat-spinner",3),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",30))}function Ut(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"div",17),r.Pb(2,"img",18),r.Ub(3,"span",19),r.Dc(4,"Posting under "),r.Ub(5,"b"),r.Dc(6),r.Tb(),r.Dc(7," as "),r.Ub(8,"b"),r.Dc(9),r.Tb(),r.Tb(),r.Tb(),r.Rb()),2&t){const t=r.gc(2);r.Db(6),r.Fc("g/",null==t.group?null:t.group.name,""),r.Db(3),r.Fc("u/",null==t.user?null:t.user.username,"")}}function wt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-card",4),r.Bc(1,Ut,10,2,"ng-container",5),r.Ub(2,"form",6),r.Ub(3,"mat-form-field",7),r.Ub(4,"mat-label"),r.Dc(5,"Title"),r.Tb(),r.Pb(6,"input",8,9),r.Ub(8,"mat-hint",10),r.Dc(9),r.Tb(),r.Tb(),r.Pb(10,"div",11),r.Ub(11,"div",12),r.Ub(12,"ckeditor",13),r.cc("ready",function(e){return r.tc(t),r.gc().onEditorReady(e)})("change",function(e){return r.tc(t),r.gc().onEditorChange(e,e.editor)}),r.Tb(),r.Tb(),r.Ub(13,"div",14),r.Ub(14,"button",15),r.cc("click",function(){return r.tc(t),r.gc().submit()}),r.Dc(15,"Save draft"),r.Tb(),r.Ub(16,"button",16),r.cc("click",function(){return r.tc(t),r.gc().submit()}),r.Dc(17,"Post"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.rc(7),e=r.gc();r.Db(1),r.mc("ngIf",e.group),r.Db(1),r.mc("formGroup",e.postForm),r.Db(7),r.Fc("",t.value.length," / 200"),r.Db(3),r.mc("editor",e.Editor)("config",e.editorConfig)}}let yt=(()=>{class t{constructor(t,e,n){this.postService=t,this.userService=e,this.router=n,this.Editor=vt,this.editorConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","undo","redo"]},language:"en",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}},this.isLoading=!0,this.edit=!1}ngOnInit(){this.initializeForm(),this.getAuthUser()}initializeForm(){this.postForm=new c.f({title:new c.d("",{validators:[c.r.required]}),content:new c.d(this.content,{validators:[c.r.required]})}),this.postForm.valueChanges.pipe(Object(ht.a)(3e3),Object(ft.a)()).subscribe(t=>{console.log(t)}),this.isLoading=!1}onEditorReady(t){console.log("CKEditor is ready to use!",t)}onEditorChange(t,e){const n=e.getData();this.postForm.patchValue({content:n})}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})})}submit(){this.postService.createPost({title:this.postForm.controls.title.value,content:this.postForm.controls.content.value,author:this.user.id,group:this.group?this.group.id:null}).subscribe(t=>{this.router.navigate(["",t.uuid])},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(g),r.Ob(m),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-create-post"]],inputs:{group:"group"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showContent",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"post-create"],["color","warn",3,"diameter"],[1,"post-create"],[4,"ngIf"],["fxLayout","column","autocomplete","off",1,"blog-form",3,"formGroup"],["appearance","outline",1,"width-100"],["matInput","","maxlength","200","formControlName","title","placeholder","Title"],["title",""],["align","end"],[1,""],[1,"editor-container","width-100"],["formControlName","content",3,"editor","config","ready","change"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px"],["mat-raised-button","","disabled","",3,"click"],["mat-raised-button","","color","warn",3,"click"],["fxLayoutAlign","start center","fxLayoutGap","16px",1,"margin-bottom-2"],["src","https://cdn-icons-png.flaticon.com/512/2170/2170765.png","alt","Community",1,"community-icon"],[1,"create-post-subtext"]],template:function(t,e){if(1&t&&(r.Bc(0,_t,3,1,"ng-container",0),r.Bc(1,wt,18,5,"ng-template",null,1,r.Cc)),2&t){const t=r.rc(2);r.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[s.l,f.c,f.b,f.d,X.b,_.a,c.s,c.n,c.g,ut.b,ut.f,at.b,c.c,c.i,c.m,c.e,ut.e,xt.a,T.b],styles:[".post-title[_ngcontent-%COMP%]{font-weight:500;font-size:20px;width:100%}.post-title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:400}.blog-form[_ngcontent-%COMP%]{margin-bottom:32px}.post-create[_ngcontent-%COMP%]{margin:16px 0;box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:20px;flex-direction:column}.create-post-subtext[_ngcontent-%COMP%]{font-size:14px;color:#707070}.create-post-subtext[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:500;color:#232323}.community-icon[_ngcontent-%COMP%]{height:40px;width:40px;border:1px solid #e6e6e6;border-radius:50%;padding:2px;object-fit:cover}.editor-container[_ngcontent-%COMP%]{margin:16px 0}.editor-container[_ngcontent-%COMP%]     .ck-editor__editable{min-height:200px;font-family:Roboto,sans-serif}.editor-container[_ngcontent-%COMP%]     .ck-content{font-family:Roboto,sans-serif}"]}),t})(),Ct=(()=>{class t{constructor(t){this.http=t,this.baseUrl=`${b.serverUrl}${b.baseUrl}`}getComments(t,e=1,n=!1,o=0){return this.http.get(n?this.baseUrl+"posts/"+t+"/comments/"+o+"/children/?page="+e:this.baseUrl+"posts/"+t+"/comments/?page="+e)}createComment(t,e){return this.http.post(this.baseUrl+"posts/"+t+"/comments/",e)}updateComment(t,e,n){return this.http.put(this.baseUrl+"posts/"+t+"/comments/"+e+"/",n)}removeComment(t,e){return this.http.delete(this.baseUrl+"posts/"+t+"/comments/"+e+"/")}checkUserVote(t,e){return this.http.get(this.baseUrl+"posts/"+t+"/comments/"+e+"/check_vote/")}upvoteComment(t,e){return this.http.put(this.baseUrl+"posts/"+t+"/comments/"+e+"/upvote/",{})}downvoteComment(t,e){return this.http.put(this.baseUrl+"posts/"+t+"/comments/"+e+"/downvote/",{})}removeVote(t,e){return this.http.delete(this.baseUrl+"posts/"+t+"/comments/"+e+"/remove_vote/",{})}userComments(t){return this.http.get(this.baseUrl+"users/"+t+"/user_comments/")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dt=n("ihCf");function Pt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",12),r.cc("click",function(){return r.tc(t),r.gc(2).cancel()}),r.Dc(1,"Cancel"),r.Tb()}}function Tt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"div",2),r.Pb(2,"img",3),r.Tb(),r.Ub(3,"div",4),r.Ub(4,"form",5),r.Ub(5,"div",6),r.Ub(6,"div",7),r.Ub(7,"textarea",8),r.Dc(8,"          "),r.Tb(),r.Tb(),r.Tb(),r.Ub(9,"div",9),r.Bc(10,Pt,2,0,"button",10),r.Ub(11,"button",11),r.cc("click",function(){return r.tc(t),r.gc().submit()}),r.Dc(12),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Db(4),r.mc("formGroup",t.commentForm),r.Db(6),r.mc("ngIf",t.commentForm.valid),r.Db(1),r.mc("disabled",t.comment_loading),r.Db(1),r.Ec(t.new?"Comment":"Save")}}let Ot=(()=>{class t{constructor(t){this.commentService=t,this.new=!0,this.nested=!1,this.child_group=!1,this.comment_response=new r.o,this.remove_mention=new r.o,this.clear_comment=new r.o,this.mentioned_user_ids=[],this.comment_loading=!1}ngOnInit(){this.initiateCommentForm()}get f(){return this.commentForm.controls}initiateCommentForm(){let t="";this.comment_obj&&(t=this.comment_obj.comment),this.commentForm=new c.f({comment:new c.d(t,{validators:[c.r.required,c.r.minLength(2),c.r.maxLength(2e3)]})})}submit(){var t,e;if(console.log("Comment submit clicked"),console.log("Form valid:",this.commentForm.valid),console.log("Form value:",this.commentForm.value),console.log("Form errors:",this.commentForm.errors),this.commentForm.invalid)return console.log("Form is invalid, not submitting"),console.log("Comment control errors:",null===(t=this.commentForm.get("comment"))||void 0===t?void 0:t.errors),void console.log("Comment value length:",null===(e=this.commentForm.value.comment)||void 0===e?void 0:e.length);let n=null;this.new||(n=this.comment_obj.id),this.new&&this.mentioned_users&&this.mentioned_users.size>0&&this.mentioned_users.forEach(t=>{this.mentioned_user_ids.push(t.id)});let o={id:n,comment:this.commentForm.value.comment,user:this.user.id,mentioned_users:this.mentioned_user_ids,is_nesting_permitted:this.nested};this.child_group&&(o.parent=this.parent),this.new?this.createComment(o):this.updateComment(o)}cancel(){this.new?(this.commentForm.reset(this.commentForm.value.comment),this.clear_comment.emit(!0)):this.comment_response.emit(this.comment_obj)}createComment(t){console.log("Creating comment with data:",t),console.log("Post UUID:",this.uuid),this.commentForm.reset(this.commentForm.value.comment),this.clear_comment.emit(!0),this.comment_loading=!0,this.commentService.createComment(this.uuid,t).subscribe(t=>{console.log("Comment created successfully:",t),this.comment_loading=!1,this.comment_response.emit(t),this.clear_comment.emit(!0),this.mentioned_user_ids.length=0},t=>{console.error("Error creating comment:",t),console.error("Error details:",t.error),this.comment_loading=!1})}updateComment(t){this.commentService.updateComment(this.uuid,t.id,t).subscribe(t=>{this.comment_response.emit(t)},t=>{console.log(t)})}removeMention(t){this.remove_mention.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ct))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment-edit"]],inputs:{user:"user",uuid:"uuid",new:"new",comment_obj:"comment_obj",mentioned_users:"mentioned_users",nested:"nested",parent:"parent",child_group:"child_group"},outputs:{comment_response:"comment_response",remove_mention:"remove_mention",clear_comment:"clear_comment"},decls:1,vars:1,consts:[["fxLayout","row","class","width-100","style","margin-bottom:50px; gap: 12px;",4,"ngIf"],["fxLayout","row",1,"width-100",2,"margin-bottom","50px","gap","12px"],["fxLayout","column","fxFlex","50px",1,"col-user"],["src","/static/assets/images/default_user.png","alt","",1,"user-avatar"],["fxLayout","column","fxFlex","90",2,"margin","auto"],[1,"width-100",3,"formGroup"],[1,"comment-wrapper"],[1,"width-100","comment-input-field"],["matInput","","formControlName","comment","maxlength","2000","placeholder","Comment","cdkTextareaAutosize","","cdkAutosizeMaxRows","3","cdkAutosizeMinRows","3",1,"font-sm","sparro-grey-800","comment-textbox"],["fxLayout","row","fxLayoutGap","16px",2,"justify-content","flex-end"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",3,"disabled","click"],["mat-flat-button","",3,"click"]],template:function(t,e){1&t&&r.Bc(0,Tt,13,4,"div",0),2&t&&r.mc("ngIf",e.user)},directives:[s.l,f.c,f.a,c.s,c.n,c.g,at.b,c.c,Dt.b,c.m,c.e,c.i,f.d,T.b],styles:[".comment-form[_ngcontent-%COMP%]   .mat-primary[_ngcontent-%COMP%]{color:#707070}.mention-list[_ngcontent-%COMP%]{float:left;width:60px;margin:5px}.comment-form.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline-start[_ngcontent-%COMP%]{border-radius:8px 0 0 8px!important}.comment-form.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline-end[_ngcontent-%COMP%]{border-radius:0 8px 8px 0!important}.comment-form.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:#707070!important}  .mat-form-field-wrapper{padding-bottom:0!important}  .mat-form-field-infix{border-top:0}@media (max-width:640px){.col-user[_ngcontent-%COMP%]{max-width:15%!important}}  .comment-input-field .mat-form-field-wrapper{padding-bottom:0!important}  .comment-input-field .mat-form-field-appearance-outline .mat-form-field-outline{color:#0000!important}  .comment-input-field .mat-form-field-infix{border-top:0!important}[_ngcontent-%COMP%]::placeholder{font-size:14px;font-family:Roboto,sans-serif}.comment-wrapper[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:8px;padding:8px;margin-bottom:16px}.comment-textbox[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto,sans-serif;width:100%;line-height:22px;outline:none;border:none;margin-top:8px}.commentbox-container[_ngcontent-%COMP%]{gap:24px}@media only screen and (max-width:960px){.commentbox-container[_ngcontent-%COMP%]{gap:12px}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;box-shadow:inset 0 0 4px #929292;border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#f15a24;border-radius:10px}"]}),t})();function kt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"app-comment-edit",1),r.cc("remove_mention",function(e){return r.tc(t),r.gc().removeMention(e)})("clear_comment",function(e){return r.tc(t),r.gc().clearComment(e)})("comment_response",function(e){return r.tc(t),r.gc().emitComment(e)}),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Db(1),r.mc("user",t.user)("uuid",t.uuid)("new",!0)("mentioned_users",t.mentioned_users)("nested",t.nested)("parent",t.parent)("child_group",t.child_group)}}const It=[[["","commentPlaceholder",""]]],Mt=["[commentPlaceholder]"];let Lt=(()=>{class t{constructor(){this.child_group=!1,this.comment_response=new r.o,this.remove_mention=new r.o,this.clear_comment=new r.o}ngOnInit(){}emitComment(t){this.comment_response.emit(t)}removeMention(t){this.remove_mention.emit(t)}clearComment(t){this.clear_comment.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment-create"]],inputs:{user:"user",uuid:"uuid",nested:"nested",parent:"parent",child_group:"child_group",mentioned_users:"mentioned_users"},outputs:{comment_response:"comment_response",remove_mention:"remove_mention",clear_comment:"clear_comment"},ngContentSelectors:Mt,decls:2,vars:1,consts:[[4,"ngIf"],[3,"user","uuid","new","mentioned_users","nested","parent","child_group","remove_mention","clear_comment","comment_response"]],template:function(t,e){1&t&&(r.lc(It),r.Bc(0,kt,2,7,"div",0),r.kc(1)),2&t&&r.mc("ngIf",e.user)},directives:[s.l,Ot],styles:[""]}),t})();function St(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"app-comment",2),r.cc("removed",function(e){return r.tc(t),r.gc(2).removed(e)})("mentioned",function(e){return r.tc(t),r.gc(2).userMentioned(e)}),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=r.gc(2);r.Db(1),r.mc("comment",t)("user",n.user)("uuid",n.uuid)("nested",n.current_nest_depth<n.max_nest_depth)("current_nest_depth",n.current_nest_depth)("max_nest_depth",n.max_nest_depth)}}function Ft(t,e){if(1&t&&(r.Ub(0,"div"),r.Bc(1,St,2,6,"div",1),r.Tb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.comments)}}let Bt=(()=>{class t{constructor(){this.comments=[],this.mentioned=new r.o,this.max_nest_depth=0,this.current_nest_depth=0}ngOnInit(){}removed(t){this.comments.map((e,n)=>{e.id==t.id&&this.comments.splice(n,1)})}hightlight(t){}userMentioned(t){console.log(t),this.mentioned.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment-list"]],inputs:{comments:"comments",user:"user",uuid:"uuid",max_nest_depth:"max_nest_depth",current_nest_depth:"current_nest_depth"},outputs:{mentioned:"mentioned"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"comment","user","uuid","nested","current_nest_depth","max_nest_depth","removed","mentioned"]],template:function(t,e){1&t&&r.Bc(0,Ft,2,1,"div",0),2&t&&r.mc("ngIf",e.comments)},styles:[""]}),t})();function Rt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.Ub(1,"p",7),r.Dc(2,"Please \xa0 "),r.Ub(3,"a",8),r.cc("click",function(){return r.tc(t),r.gc(2).goToLogin()}),r.Dc(4,"Login "),r.Tb(),r.Dc(5,"\xa0 or \xa0"),r.Ub(6,"a",8),r.cc("click",function(){return r.tc(t),r.gc(2).goToLogin()}),r.Dc(7,"Sign up "),r.Tb(),r.Dc(8,"\xa0 to add comments "),r.Tb(),r.Tb()}}function Et(t,e){if(1&t){const t=r.Vb();r.Ub(0,"section",9),r.Ub(1,"app-comment-list",10),r.cc("mentioned",function(e){return r.tc(t),r.gc(2).userMentioned(e)}),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Db(1),r.mc("comments",t.comments)("user",t.user)("uuid",t.uuid)("max_nest_depth",t.max_nest_depth)("current_nest_depth",t.current_nest_depth)}}function Gt(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"section",2),r.Ub(2,"app-comment-create",3),r.cc("comment_response",function(e){return r.tc(t),r.gc().created(e)})("remove_mention",function(e){return r.tc(t),r.gc().removeMention(e)})("clear_comment",function(e){return r.tc(t),r.gc().clearComment(e)}),r.Bc(3,Rt,9,0,"div",4),r.Tb(),r.Tb(),r.Bc(4,Et,2,5,"section",5),r.Rb()}if(2&t){const t=r.gc();r.Db(2),r.mc("user",t.user)("uuid",t.uuid)("mentioned_users",t.mentioned_users)("nested",t.nested&&t.current_nest_depth<t.max_nest_depth)("parent",t.parent)("child_group",t.child_group),r.Db(1),r.mc("ngIf",!t.is_authenticated),r.Db(1),r.mc("ngIf",t.comments)}}function At(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",13),r.Pb(2,"mat-spinner",14),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",20))}function zt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",17),r.Ub(1,"button",18),r.cc("click",function(){return r.tc(t),r.gc(3).loadMoreComments()}),r.Dc(2,"Load more comments"),r.Tb(),r.Tb()}}function Vt(t,e){1&t&&r.Pb(0,"div",19)}function jt(t,e){if(1&t&&(r.Bc(0,zt,3,0,"div",15),r.Bc(1,Vt,1,0,"div",16)),2&t){const t=r.gc(2);r.mc("ngIf",t.next),r.Db(1),r.mc("ngIf",!t.next&&t.comments_count>0&&!t.child_group)}}function $t(t,e){if(1&t&&(r.Sb(0),r.Bc(1,At,3,1,"ng-container",11),r.Bc(2,jt,2,2,"ng-template",null,12,r.Cc),r.Rb()),2&t){const t=r.rc(3),e=r.gc();r.Db(1),r.mc("ngIf",e.showLoader)("ngIfElse",t)}}let qt=(()=>{class t{constructor(t,e,n){this.commentService=t,this.userService=e,this.router=n,this.comments=[],this.create_only=!1,this.max_nest_depth=0,this.current_nest_depth=0,this.child_group=!1,this.commentable=!0,this.next=null,this.page=1,this.is_authenticated=!1,this.comments_count=0,this.user_checked=!1,this.mentioned_users=new Set,this.showLoader=!1,this.counter=new r.o,this.create_only_toggle=new r.o,this.nested=!0,this.loginUrl=`${b.loginUrl}/`}ngOnInit(){this.showLoader=!0,this.user?this.is_authenticated=!0:this.getUser(),this.getComments()}getUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{t?(this.user=t,console.log(this.user),this.user_checked=!0,this.is_authenticated=!0):(this.user_checked=!0,this.is_authenticated=!1)})})}getComments(){this.commentService.getComments(this.uuid,this.page,this.child_group,this.parent).subscribe(t=>{this.showLoader=!1,this.setComments(t)},t=>{console.log(t),this.showLoader=!1})}loadMoreComments(){null!=this.next&&this.getComments()}setComments(t){this.next=t.next,this.next&&(this.page=parseInt(this.next.split("=")[1])),this.comments=[...this.comments,...t.results],this.comments_count=t.count}created(t){this.comments.unshift(t),this.create_only=!1,this.counter.emit(this.comments.length)}goToLogin(){this.router.navigate(["sign-in"])}userMentioned(t){if(0===this.mentioned_users.size)this.mentioned_users.add(t);else{let e=!1;this.mentioned_users.forEach(n=>{t.id===n.id&&(e=!0)}),e||this.mentioned_users.add(t)}this.scrollToCreate()}removeMention(t){this.mentioned_users.has(t)&&this.mentioned_users.delete(t)}clearComment(t){this.mentioned_users.clear()}scrollToCreate(){document.getElementById("createsection").scrollIntoView({behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ct),r.Ob(m),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment-group"]],inputs:{uuid:"uuid",create_only:"create_only",user:"user",max_nest_depth:"max_nest_depth",current_nest_depth:"current_nest_depth",parent:"parent",child_group:"child_group",commentable:"commentable"},outputs:{counter:"counter",create_only_toggle:"create_only_toggle"},decls:3,vars:2,consts:[[1,"app-comment-section"],[4,"ngIf"],["id","createsection",1,"comment-create",2,"margin-bottom","16px"],[2,"height","170px",3,"user","uuid","mentioned_users","nested","parent","child_group","comment_response","remove_mention","clear_comment"],["commentPlaceholder","",4,"ngIf"],["class","comment-list","style","height:100%",4,"ngIf"],["commentPlaceholder",""],[1,"comment-header","font-xs"],[1,"link",3,"click"],[1,"comment-list",2,"height","100%"],[3,"comments","user","uuid","max_nest_depth","current_nest_depth","mentioned"],[4,"ngIf","ngIfElse"],["nextButton",""],["fxLayoutAlign","center center",2,"height","200px"],["color","warn",3,"diameter"],["fxLayoutAlign","center center","style","margin-top:30px; padding-bottom:30px;",4,"ngIf"],["class","","fxLayoutAlign","center center",4,"ngIf"],["fxLayoutAlign","center center",2,"margin-top","30px","padding-bottom","30px"],["mat-flat-button","",3,"click"],["fxLayoutAlign","center center",1,""]],template:function(t,e){1&t&&(r.Ub(0,"section",0),r.Bc(1,Gt,5,8,"ng-container",1),r.Bc(2,$t,4,2,"ng-container",1),r.Tb()),2&t&&(r.Db(1),r.mc("ngIf",e.user_checked||e.is_authenticated&&e.commentable),r.Db(1),r.mc("ngIf",!e.create_only))},directives:[s.l,Lt,Bt,f.b,X.b,T.b],styles:[".separator-icon[_ngcontent-%COMP%]{font-size:60px;height:60px;color:#707070;text-align:center;width:auto;display:block}.comment-header[_ngcontent-%COMP%]{width:100%;padding:8px 12px;font-size:14px}.link[_ngcontent-%COMP%]{font-weight:500;color:brown;font-size:14px}"]}),t})();function Nt(t,e){1&t&&(r.Sb(0),r.Ub(1,"mat-card",2),r.Pb(2,"mat-spinner",3),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",30))}function Ht(t,e){if(1&t&&r.Pb(0,"app-comment-group",10),2&t){const t=r.gc(2);r.mc("uuid",t.post.uuid)("user",t.user)("commentable","ARCHIVED"!==t.post.status)("max_nest_depth",5)}}function Yt(t,e){if(1&t&&(r.Ub(0,"mat-card",4),r.Ub(1,"h1"),r.Dc(2),r.Tb(),r.Pb(3,"p",5),r.hc(4,"safeContent"),r.Ub(5,"mat-icon",6),r.Dc(6,"more_horiz"),r.Tb(),r.Ub(7,"section",7),r.Ub(8,"p",8),r.Dc(9," Comments "),r.Tb(),r.Bc(10,Ht,1,4,"app-comment-group",9),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(2),r.Ec(null==t.post?null:t.post.title),r.Db(1),r.mc("innerHtml",r.ic(4,3,t.post.content),r.uc),r.Db(7),r.mc("ngIf",t.post)}}let Kt=(()=>{class t{constructor(t,e,n,o){this.router=t,this.route=e,this.userService=n,this.postService=o,this.isLoading=!0}ngOnInit(){this.post_uuid=this.route.snapshot.params.uuid,this.getAuthUser()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})}),this.getPostDetail()}getPostDetail(){this.postService.getPostDetail(this.post_uuid).subscribe(t=>{this.post=t,this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.c),r.Ob(u.a),r.Ob(m),r.Ob(g))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-post-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showContent",""],["fxLayout","row-reverse","fxLayoutAlign","center center","fxLayoutGap","10px",1,"post-card",2,"height","400px"],["color","warn",3,"diameter"],[1,"post-card"],[1,"post-content",3,"innerHtml"],[1,"separator-icon"],[1,"comment-section"],[1,"font-sm","font-bold","color-primary"],[3,"uuid","user","commentable","max_nest_depth",4,"ngIf"],[3,"uuid","user","commentable","max_nest_depth"]],template:function(t,e){if(1&t&&(r.Bc(0,Nt,3,1,"ng-container",0),r.Bc(1,Yt,11,5,"ng-template",null,1,r.Cc)),2&t){const t=r.rc(2);r.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[s.l,_.a,f.c,f.b,f.d,X.b,M.a,qt],pipes:[F],styles:[".post-card[_ngcontent-%COMP%]{margin:16px 0;box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:20px;flex-direction:column}.post-content[_ngcontent-%COMP%]{padding-bottom:20px}.separator-icon[_ngcontent-%COMP%]{font-size:60px;height:60px;color:#707070;text-align:center;width:auto}"]}),t})();function Xt(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",3),r.Rb()),2&t){const t=e.$implicit;r.Db(1),r.mc("post",t)("showFooter",!1)}}function Jt(t,e){if(1&t&&(r.Sb(0),r.Bc(1,Xt,2,2,"ng-container",2),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.posts)}}function Wt(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",6),r.Pb(2,"mat-spinner",7),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",30))}function Qt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.Ub(1,"button",9),r.cc("click",function(){return r.tc(t),r.gc(3).loadMorePosts()}),r.Dc(2,"Load more posts"),r.Tb(),r.Tb()}}function Zt(t,e){if(1&t&&r.Bc(0,Qt,3,0,"div",8),2&t){const t=r.gc(2);r.mc("ngIf",!t.showSpinner&&t.next)}}function te(t,e){if(1&t&&(r.Sb(0),r.Bc(1,Wt,3,1,"ng-container",4),r.Bc(2,Zt,1,1,"ng-template",null,5,r.Cc),r.Rb()),2&t){const t=r.rc(3),e=r.gc();r.Db(1),r.mc("ngIf",e.showLoader)("ngIfElse",t)}}let ee=(()=>{class t{constructor(t,e,n){this.postService=t,this.route=e,this.router=n,this.posts=[],this.query="",this.page=1,this.isLoading=!1,this.showLoader=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.query=t.query}),this.fetchPosts()}fetchPosts(){this.postService.filterPosts(this.page,this.query,"","","").subscribe(t=>{if(this.posts=[...this.posts,...t.results],this.next=t.next,this.next){const t=this.next.split("&")[2];this.page=parseInt(t.split("=")[1]),console.log(this.page)}this.isLoading=!1,this.showLoader=!1},t=>{console.log(t),this.isLoading=!1,this.showLoader=!1})}loadMorePosts(){this.showLoader=!0,this.fetchPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(g),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-search"]],decls:3,vars:2,consts:[[1,"width-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"post","showFooter"],[4,"ngIf","ngIfElse"],["buttonview",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",2,"height","100px"],["color","warn",3,"diameter"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px","style","height: 100px",4,"ngIf"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Bc(1,Jt,2,1,"ng-container",1),r.Bc(2,te,4,2,"ng-container",1),r.Tb()),2&t&&(r.Db(1),r.mc("ngIf",e.posts),r.Db(1),r.mc("ngIf",e.next))},directives:[s.l,s.k,K,f.c,f.b,f.d,X.b,T.b],styles:[""]}),t})();var ne=n("wZkO");function oe(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",4),r.Rb()),2&t){const t=e.$implicit,n=r.gc(2);r.Db(1),r.mc("post",t)("showFooter",!1)("user",n.user.id)}}function re(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",6),r.Pb(2,"mat-spinner",7),r.Tb(),r.Rb()),2&t&&(r.Db(2),r.mc("diameter",30))}function ie(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.Ub(1,"button",9),r.cc("click",function(){return r.tc(t),r.gc(4).loadMorePosts()}),r.Dc(2,"Load more posts"),r.Tb(),r.Tb()}}function se(t,e){if(1&t&&r.Bc(0,ie,3,0,"div",8),2&t){const t=r.gc(3);r.mc("ngIf",!t.showSpinner&&t.next)}}function ce(t,e){if(1&t&&(r.Sb(0),r.Bc(1,re,3,1,"ng-container",0),r.Bc(2,se,1,1,"ng-template",null,5,r.Cc),r.Rb()),2&t){const t=r.rc(3),e=r.gc(2);r.Db(1),r.mc("ngIf",e.showLoader)("ngIfElse",t)}}function ae(t,e){if(1&t&&(r.Sb(0),r.Bc(1,oe,2,3,"ng-container",2),r.Bc(2,ce,4,2,"ng-container",3),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.posts),r.Db(1),r.mc("ngIf",t.next)}}function ue(t,e){if(1&t&&(r.Ub(0,"h3",10),r.Dc(1),r.Tb()),2&t){const t=r.gc();r.Db(1),r.Fc("",t.currentUser," has not addded any posts yet")}}let le=(()=>{class t{constructor(t,e,n,o){this.userService=t,this.postService=e,this.route=n,this.router=o,this.posts=[],this.page=1,this.isLoading=!1,this.showLoader=!1}ngOnInit(){this.getPosts()}getPosts(){this.postService.filterPosts(this.page,"","","",this.currentUser).subscribe(t=>{this.posts=[...this.posts,...t.results],this.next=t.next,this.next&&(this.page=parseInt(this.next.split("=")[1])),this.isLoading=!1,this.showLoader=!1},t=>{console.log(t),this.isLoading=!1,this.showLoader=!1})}loadMorePosts(){this.showLoader=!0,this.getPosts()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(g),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-posts"]],inputs:{user:"user",self:"self",currentUser:"currentUser"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noPosts",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"post","showFooter","user"],["buttonview",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",2,"height","100px"],["color","warn",3,"diameter"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px","style","height: 100px",4,"ngIf"],["mat-raised-button","",3,"click"],["align","center",1,"font-bold","color-tertiary"]],template:function(t,e){if(1&t&&(r.Bc(0,ae,3,2,"ng-container",0),r.Bc(1,ue,2,1,"ng-template",null,1,r.Cc)),2&t){const t=r.rc(2);r.mc("ngIf",e.posts.length)("ngIfElse",t)}},directives:[s.l,s.k,K,f.c,f.b,f.d,X.b,T.b],styles:[""]}),t})();function be(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"div",4),r.Ub(2,"span",5),r.Dc(3),r.hc(4,"timeSince"),r.Tb(),r.Dc(5),r.Tb(),r.Rb()),2&t){const t=e.$implicit;r.Db(3),r.Fc("",r.ic(4,2,t.created_at)," ago"),r.Db(2),r.Fc(" ",t.comment," ")}}function de(t,e){if(1&t&&(r.Ub(0,"p"),r.Dc(1),r.Tb()),2&t){const t=r.gc(2);r.Db(1),r.Fc("u/",t.user.username," has no comments.")}}function pe(t,e){if(1&t&&(r.Ub(0,"div",1),r.Bc(1,be,6,4,"ng-container",2),r.Bc(2,de,2,1,"ng-template",null,3,r.Cc),r.Tb()),2&t){const t=r.rc(3),e=r.gc();r.Db(1),r.mc("ngForOf",e.comments)("ngForElse",t)}}let me=(()=>{class t{constructor(){this.comments=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-comments"]],inputs:{comments:"comments",user:"user",self:"self",currentUser:"currentUser"},decls:1,vars:1,consts:[["fxLayout","column",4,"ngIf"],["fxLayout","column"],[4,"ngFor","ngForOf","ngForElse"],["noComments",""],[1,"comment-item"],[1,"comment-subtext"]],template:function(t,e){1&t&&r.Bc(0,pe,4,2,"div",0),2&t&&r.mc("ngIf",e.comments.length)},directives:[s.l,f.c,s.k],pipes:[S.b],styles:[".comment-item[_ngcontent-%COMP%]{margin:8px 0;border:1px solid #dedede;border-radius:8px;display:inline-grid;background:#fff;padding:16px;width:inherit;gap:6px;color:#707070;width:-webkit-fill-available}.comment-item[_ngcontent-%COMP%]   .comment-subtext[_ngcontent-%COMP%]{font-size:14px;color:#232323}"]}),t})();function ge(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",4),r.Rb()),2&t){const t=r.gc().$implicit;r.Db(1),r.mc("post",t.post)("showFooter",!1)}}function he(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"span",6),r.Dc(2),r.hc(3,"timeSince"),r.Tb(),r.Dc(4),r.Tb()),2&t){const t=r.gc().$implicit;r.Db(2),r.Fc("",r.ic(3,2,t.created_at)," ago"),r.Db(2),r.Fc(" ",t.post_comment.comment," ")}}function fe(t,e){if(1&t&&(r.Sb(0),r.Bc(1,ge,2,2,"ng-container",0),r.Bc(2,he,5,4,"ng-template",null,3,r.Cc),r.Rb()),2&t){const t=e.$implicit,n=r.rc(3);r.Db(1),r.mc("ngIf",t.post)("ngIfElse",n)}}function ve(t,e){if(1&t&&(r.Sb(0),r.Bc(1,fe,4,2,"ng-container",2),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.upvotes)}}function xe(t,e){1&t&&(r.Ub(0,"h3",7),r.Dc(1,"No content to show"),r.Tb())}let _e=(()=>{class t{constructor(t,e,n,o,r){this.userService=t,this.groupService=e,this.commentService=n,this.route=o,this.router=r,this.isLoading=!1,this.upvotes=[]}ngOnInit(){this.getUserUpvotes()}getUserUpvotes(){this.userService.userUpvotes(this.currentUser).subscribe(t=>{const e=[...t.posts,...t.comments];this.upvotes=e.sort((t,e)=>e.created_at-t.created_at),console.log(this.upvotes)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(h),r.Ob(Ct),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-upvotes"]],inputs:{user:"user",self:"self",currentUser:"currentUser"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[4,"ngFor","ngForOf"],["commentTemplate",""],[3,"post","showFooter"],[1,"comment-item"],[1,"comment-subtext"],["align","center",1,"font-bold","color-tertiary"]],template:function(t,e){if(1&t&&(r.Bc(0,ve,2,1,"ng-container",0),r.Bc(1,xe,2,0,"ng-template",null,1,r.Cc)),2&t){const t=r.rc(2);r.mc("ngIf",e.upvotes.length)("ngIfElse",t)}},directives:[s.l,s.k,K],pipes:[S.b],styles:[".comment-item[_ngcontent-%COMP%]{margin:8px 0;border:1px solid #dedede;border-radius:8px;display:inline-grid;background:#fff;padding:16px;width:inherit;gap:6px;color:#707070}.comment-item[_ngcontent-%COMP%]   .comment-subtext[_ngcontent-%COMP%]{font-size:14px;color:#232323}"]}),t})();function Ue(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",4),r.Rb()),2&t){const t=r.gc().$implicit;r.Db(1),r.mc("post",t.post)("showFooter",!1)}}function we(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"span",6),r.Dc(2),r.hc(3,"timeSince"),r.Tb(),r.Dc(4),r.Tb()),2&t){const t=r.gc().$implicit;r.Db(2),r.Fc("",r.ic(3,2,t.created_at)," ago"),r.Db(2),r.Fc(" ",t.post_comment.comment," ")}}function ye(t,e){if(1&t&&(r.Sb(0),r.Bc(1,Ue,2,2,"ng-container",0),r.Bc(2,we,5,4,"ng-template",null,3,r.Cc),r.Rb()),2&t){const t=e.$implicit,n=r.rc(3);r.Db(1),r.mc("ngIf",t.post)("ngIfElse",n)}}function Ce(t,e){if(1&t&&(r.Sb(0),r.Bc(1,ye,4,2,"ng-container",2),r.Rb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.downvotes)}}function De(t,e){1&t&&(r.Ub(0,"h3",7),r.Dc(1,"No content to show"),r.Tb())}let Pe=(()=>{class t{constructor(t,e,n,o,r){this.userService=t,this.groupService=e,this.commentService=n,this.route=o,this.router=r,this.isLoading=!1,this.downvotes=[]}ngOnInit(){this.getUserDownvotes()}getUserDownvotes(){this.userService.userDownvotes(this.currentUser).subscribe(t=>{const e=[...t.posts,...t.comments];this.downvotes=e.sort((t,e)=>e.created_at-t.created_at)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(h),r.Ob(Ct),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-downvotes"]],inputs:{user:"user",self:"self",currentUser:"currentUser"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[4,"ngFor","ngForOf"],["commentTemplate",""],[3,"post","showFooter"],[1,"comment-item"],[1,"comment-subtext"],["align","center",1,"font-bold","color-tertiary"]],template:function(t,e){if(1&t&&(r.Bc(0,Ce,2,1,"ng-container",0),r.Bc(1,De,2,0,"ng-template",null,1,r.Cc)),2&t){const t=r.rc(2);r.mc("ngIf",e.downvotes.length)("ngIfElse",t)}},directives:[s.l,s.k,K],pipes:[S.b],styles:[".comment-item[_ngcontent-%COMP%]{margin:8px 0;border:1px solid #dedede;border-radius:8px;display:inline-grid;background:#fff;padding:16px;width:inherit;gap:6px;color:#707070}.comment-item[_ngcontent-%COMP%]   .comment-subtext[_ngcontent-%COMP%]{font-size:14px;color:#232323}"]}),t})();function Te(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",2),r.Rb()),2&t){const t=r.gc().$implicit;r.Db(1),r.mc("post",t.post)("showFooter",!1)}}function Oe(t,e){if(1&t&&(r.Sb(0),r.Bc(1,Te,2,2,"ng-container",1),r.Rb()),2&t){const t=e.$implicit;r.Db(1),r.mc("ngIf",t.post)}}let ke=(()=>{class t{constructor(t,e,n){this.userService=t,this.route=e,this.router=n,this.isLoading=!1,this.bookmarks=[]}ngOnInit(){this.getUserBookmarks()}getUserBookmarks(){this.userService.getBookmarks(this.currentUser).subscribe(t=>{this.bookmarks=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-bookmarks"]],inputs:{user:"user",self:"self",currentUser:"currentUser"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"post","showFooter"]],template:function(t,e){1&t&&(r.Sb(0),r.Bc(1,Oe,2,1,"ng-container",0),r.Rb()),2&t&&(r.Db(1),r.mc("ngForOf",e.bookmarks))},directives:[s.k,s.l,K],styles:[""]}),t})();function Ie(t,e){1&t&&(r.Ub(0,"button",24),r.Dc(1,"Follow"),r.Tb())}function Me(t,e){1&t&&(r.Ub(0,"button",24),r.Dc(1,"Message"),r.Tb())}function Le(t,e){1&t&&(r.Ub(0,"button",24),r.Dc(1,"Report User"),r.Tb())}function Se(t,e){1&t&&(r.Sb(0),r.Dc(1," Your groups "),r.Rb())}function Fe(t,e){if(1&t&&r.Dc(0),2&t){const t=r.gc(2);r.Fc(" ",t.user.username,"'s groups ")}}const Be=function(t){return["../../group",t]};function Re(t,e){if(1&t&&(r.Ub(0,"mat-list-item"),r.Ub(1,"a",29),r.Dc(2),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.mc("routerLink",r.oc(2,Be,t.id)),r.Db(1),r.Ec(t.name)}}function Ee(t,e){if(1&t&&(r.Ub(0,"div",13),r.Ub(1,"span",25),r.Bc(2,Se,2,0,"ng-container",26),r.Bc(3,Fe,1,1,"ng-template",null,27,r.Cc),r.Tb(),r.Ub(5,"mat-nav-list"),r.Bc(6,Re,3,4,"mat-list-item",28),r.Tb(),r.Tb()),2&t){const t=r.rc(4),e=r.gc();r.Db(2),r.mc("ngIf",e.self)("ngIfElse",t),r.Db(4),r.mc("ngForOf",e.userGroups)}}function Ge(t,e){1&t&&(r.Sb(0),r.Dc(1," You're a moderator of these groups "),r.Rb())}function Ae(t,e){if(1&t&&r.Dc(0),2&t){const t=r.gc(2);r.Fc(" ",t.user.username,"'s moderator of these groups ")}}function ze(t,e){if(1&t&&(r.Ub(0,"mat-list-item"),r.Ub(1,"a",29),r.Dc(2),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.mc("routerLink",r.oc(2,Be,t.group.id)),r.Db(1),r.Ec(t.group.name)}}function Ve(t,e){if(1&t&&(r.Ub(0,"div",13),r.Ub(1,"span",25),r.Bc(2,Ge,2,0,"ng-container",26),r.Bc(3,Ae,1,1,"ng-template",null,27,r.Cc),r.Tb(),r.Ub(5,"mat-nav-list"),r.Bc(6,ze,3,4,"mat-list-item",28),r.Tb(),r.Tb()),2&t){const t=r.rc(4),e=r.gc();r.Db(2),r.mc("ngIf",e.self)("ngIfElse",t),r.Db(4),r.mc("ngForOf",e.modGroups)}}let je=(()=>{class t{constructor(t,e,n,o,r){this.userService=t,this.groupService=e,this.commentService=n,this.route=o,this.router=r,this.isLoading=!1,this.page=1,this.showLoader=!1,this.userGroups=[],this.modGroups=[],this.userComments=[],this.self=!1}ngOnInit(){this.currentUser=this.route.snapshot.params.username,this.getAuthUser(),this.currentUser&&this.getUserByUsername(),this.getUserComments()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t,this.user&&this.user.username==this.currentUser&&(this.self=!0)})})}getUserByUsername(){this.userService.getUserByUsername(this.currentUser).subscribe(t=>{this.profile=t,this.getUserGroups()})}getUserGroups(){this.groupService.getUserGroups("",this.profile.id,"").subscribe(t=>{this.userGroups=t})}getUserComments(){this.commentService.userComments(this.currentUser).subscribe(t=>{this.userComments=t})}getModeratorGroups(){this.groupService.filterMembers("MODERATOR","",this.user.id).subscribe(t=>{this.modGroups=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(h),r.Ob(Ct),r.Ob(u.a),r.Ob(u.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profiles"]],decls:38,vars:27,consts:[["fxLayout","row","fxLayoutGap","16px"],["fxLayout","column","fxFlex","70","fxFlex.lt-lg","100",1,"profile-container"],[1,"width-100"],["color","warn","dynamicHeight","","animationDuration","0ms","mat-align-tabs","center",1,"width-100"],["label","Posts"],[1,"content"],[3,"user","self","currentUser"],["label","Comments"],[3,"comments","user","self","currentUser"],["label","Upvotes"],["label","Downvotes"],["label","Saved"],["fxLayout","column","fxFlex","30","fxHide.lt-lg","",1,""],[1,"related-section"],[1,"bg-blue"],[1,"user-avatar"],["src","https://cdn-icons-png.flaticon.com/512/3177/3177440.png","height","100","width","100"],["fxLayout","column",1,"user-content"],[1,"font-bold"],[1,"color-tertiary"],[1,"font-light","color-tertiary","user-meta-text"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","12px",1,"margin-y-4"],["mat-stroked-button","","color","primary",4,"ngIf"],["class","related-section",4,"ngIf"],["mat-stroked-button","","color","primary"],[1,"heading-5","font-bold"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[4,"ngFor","ngForOf"],["matLine","",3,"routerLink"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"mat-tab-group",3),r.Ub(4,"mat-tab",4),r.Ub(5,"div",5),r.Pb(6,"app-profile-posts",6),r.Tb(),r.Tb(),r.Ub(7,"mat-tab",7),r.Ub(8,"div",5),r.Pb(9,"app-profile-comments",8),r.Tb(),r.Tb(),r.Ub(10,"mat-tab",9),r.Ub(11,"div",5),r.Pb(12,"app-profile-upvotes",6),r.Tb(),r.Tb(),r.Ub(13,"mat-tab",10),r.Ub(14,"div",5),r.Pb(15,"app-profile-downvotes",6),r.Tb(),r.Tb(),r.Ub(16,"mat-tab",11),r.Ub(17,"div",5),r.Pb(18,"app-profile-bookmarks",6),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(19,"div",12),r.Ub(20,"div",13),r.Pb(21,"div",14),r.Ub(22,"div",15),r.Pb(23,"img",16),r.Tb(),r.Ub(24,"div",17),r.Ub(25,"span",18),r.Dc(26),r.Tb(),r.Ub(27,"span",19),r.Dc(28),r.Tb(),r.Ub(29,"span",20),r.Dc(30),r.hc(31,"date"),r.Tb(),r.Tb(),r.Ub(32,"div",21),r.Bc(33,Ie,2,0,"button",22),r.Bc(34,Me,2,0,"button",22),r.Bc(35,Le,2,0,"button",22),r.Tb(),r.Tb(),r.Bc(36,Ee,7,3,"div",23),r.Bc(37,Ve,7,3,"div",23),r.Tb(),r.Tb()),2&t&&(r.Db(6),r.mc("user",e.user)("self",e.self)("currentUser",e.currentUser),r.Db(3),r.mc("comments",e.userComments)("user",e.user)("self",e.self)("currentUser",e.currentUser),r.Db(3),r.mc("user",e.user)("self",e.self)("currentUser",e.currentUser),r.Db(3),r.mc("user",e.user)("self",e.self)("currentUser",e.currentUser),r.Db(3),r.mc("user",e.user)("self",e.self)("currentUser",e.currentUser),r.Db(8),r.Gc("",e.profile.first_name," ",e.profile.last_name,""),r.Db(2),r.Fc("@",e.profile.username,""),r.Db(2),r.Fc("User since ",r.ic(31,25,e.profile.date_joined),""),r.Db(3),r.mc("ngIf",!e.self),r.Db(1),r.mc("ngIf",!e.self),r.Db(1),r.mc("ngIf",!e.self),r.Db(1),r.mc("ngIf",e.userGroups.length),r.Db(1),r.mc("ngIf",e.modGroups.length))},directives:[f.c,f.d,f.a,ne.b,ne.a,le,me,_e,Pe,ke,v.b,f.b,s.l,T.b,x.c,s.k,x.a,u.d,J.j],pipes:[s.e],styles:[".profile-container[_ngcontent-%COMP%]{margin-top:16px;border:1px solid #dedede;border-radius:8px;background-color:#fff}.profile-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px;background-color:inherit;width:auto}.related-section[_ngcontent-%COMP%]{background-color:#fff;min-height:300px;margin-top:16px;border:1px solid #dedede;border-radius:8px;padding:16px;position:relative}.related-section[_ngcontent-%COMP%]:first-child{padding:0}.mat-label-label[_ngcontent-%COMP%]{color:#232323;opacity:1}.bg-blue[_ngcontent-%COMP%]{background:url(https://images.pexels.com/photos/3695238/pexels-photo-3695238.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:8px 8px 0 0;height:130px;width:inherit}.user-avatar[_ngcontent-%COMP%]{position:absolute;top:25%;left:35%}.user-content[_ngcontent-%COMP%]{margin-top:60px;text-align:center;gap:12px}.user-meta-text[_ngcontent-%COMP%]{font-size:14px}"]}),t})();function $e(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Pb(1,"p",9),r.Ub(2,"mat-icon",10),r.cc("click",function(){return r.tc(t),r.gc(2).closeDialog(!1)}),r.Dc(3,"close"),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Db(1),r.mc("innerHtml",t.data.title,r.uc)}}function qe(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",11),r.cc("click",function(){return r.tc(t),r.gc(2).closeDialog(!1)}),r.Dc(1,"Cancel"),r.Tb()}}const Ne=function(t){return{"end-container":t}};function He(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Bc(1,$e,4,1,"div",2),r.Ub(2,"section",3),r.Ub(3,"div",4),r.Ub(4,"h3"),r.Dc(5),r.Tb(),r.Tb(),r.Ub(6,"div",5),r.Bc(7,qe,2,0,"button",6),r.Ub(8,"button",7),r.cc("click",function(){return r.tc(t),r.gc().closeDialog(!0)}),r.Dc(9,"Confirm"),r.Tb(),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.gc();r.Db(1),r.mc("ngIf",t.data.title),r.Db(4),r.Fc(" ",t.data.message," "),r.Db(1),r.mc("ngClass",r.oc(4,Ne,!t.showCancel)),r.Db(1),r.mc("ngIf",t.showCancel)}}function Ye(t,e){}let Ke=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){this.showCancel=!this.data.showCancel||this.data.showCancel}closeDialog(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(C.f),r.Ob(C.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-confirmation-dialog"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["noData",""],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngIf"],["fxLayout","column","fxLayoutGap","20px"],["mat-dialog-content","",2,"line-height","24px"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","12px",3,"ngClass"],["mat-stroked-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"font-sm","font-bold","margin-0",3,"innerHtml"],[2,"cursor","pointer",3,"click"],["mat-stroked-button","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(r.Ub(0,"div"),r.Bc(1,He,10,6,"ng-container",0),r.Bc(2,Ye,0,0,"ng-template",null,1,r.Cc),r.Tb()),2&t){const t=r.rc(3);r.Db(1),r.mc("ngIf",e.data)("ngIfElse",t)}},directives:[s.l,f.c,f.d,C.d,C.c,f.b,s.j,v.a,T.b,M.a],styles:[".cdk-global-scrollblock{position:static}.end-container[_ngcontent-%COMP%]{justify-content:flex-end!important}"]}),t})();function Xe(t,e){1&t&&(r.Sb(0),r.Pb(1,"app-post-loader"),r.Pb(2,"app-post-loader"),r.Pb(3,"app-post-loader"),r.Pb(4,"app-post-loader"),r.Rb())}function Je(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"app-post",7),r.Rb()),2&t){const t=e.$implicit,n=r.gc(2);r.Db(1),r.mc("post",t)("user_id",null==n.user?null:n.user.id)}}function We(t,e){if(1&t&&r.Bc(0,Je,2,2,"ng-container",6),2&t){const t=r.gc();r.mc("ngForOf",t.groupPosts)}}let Qe=(()=>{class t{constructor(t,e,n,o){this.groupService=t,this.userService=e,this.router=n,this.route=o,this.groupPosts=[],this.isLoading=!0}ngOnInit(){this.getAuthUser()}ngOnChanges(t){this.group&&this.getFeed()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})})}getFeed(){this.groupService.getGroupPosts(this.group.id).subscribe(t=>{this.groupPosts=t,console.log(this.groupPosts),this.isLoading=!1},t=>{console.log(t),this.isLoading=!1})}redirect(){this.router.navigate(["submit-post"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(h),r.Ob(m),r.Ob(u.c),r.Ob(u.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-group-feed"]],inputs:{group:"group"},features:[r.Bb],decls:7,vars:2,consts:[["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px"],["fxFlex","60px",1,"user-avatar"],["src","https://cdn-icons-png.flaticon.com/512/3177/3177440.png","height","60","width","60"],["matInput","","placeholder","Create post","rows","2","cols","80",1,"create-post-input",3,"click"],[4,"ngIf","ngIfElse"],["showPosts",""],[4,"ngFor","ngForOf"],[3,"post","user_id"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"img",2),r.Tb(),r.Ub(3,"textarea",3),r.cc("click",function(){return e.redirect()}),r.Tb(),r.Tb(),r.Bc(4,Xe,5,0,"ng-container",4),r.Bc(5,We,1,1,"ng-template",null,5,r.Cc)),2&t){const t=r.rc(6);r.Db(4),r.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[f.c,f.b,f.d,f.a,at.b,s.l,y,s.k,K],styles:[".create-post-input[_ngcontent-%COMP%]{font-size:16px;font-family:inherit;outline:none;border:1px solid #dedede;border-radius:8px;display:block;padding:32px 16px;width:-webkit-fill-available;margin:16px 0;resize:none}"]}),t})();var Ze=n("f0Cb"),tn=n("Qu3c"),en=n("7EHt");function nn(t,e){if(1&t&&(r.Pb(0,"span",27),r.hc(1,"safeContent")),2&t){const t=r.gc(2);r.mc("innerHtml",r.ic(1,1,t.group.description),r.uc)}}function on(t,e){if(1&t&&(r.Ub(0,"span",28),r.Dc(1),r.Tb()),2&t){const t=r.gc(2);r.Db(1),r.Fc("g/",null==t.group?null:t.group.name," hasn't added any description yet.")}}function rn(t,e){if(1&t&&(r.Ub(0,"span",29),r.Dc(1),r.Tb()),2&t){const t=r.gc(2);r.Db(1),r.Fc(" ",t.group.members_count," Member(s) ")}}function sn(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"button",30),r.cc("click",function(){return r.tc(t),r.gc(2).joinGroup()}),r.Dc(2,"Join group"),r.Tb(),r.Rb()}}function cn(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"button",32),r.cc("click",function(){return r.tc(t),r.gc(3).leaveGroup()}),r.Dc(2,"Leave group"),r.Tb(),r.Rb()}}function an(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",33),r.cc("click",function(){return r.tc(t),r.gc(3).cancel()}),r.Dc(1,"Cancel pending request"),r.Tb()}}function un(t,e){if(1&t&&(r.Bc(0,cn,3,0,"ng-container",24),r.Bc(1,an,2,0,"ng-template",null,31,r.Cc)),2&t){const t=r.rc(2),e=r.gc(2);r.mc("ngIf",e.group.member_status&&e.group.member_status.is_approved)("ngIfElse",t)}}function ln(t,e){if(1&t&&(r.Ub(0,"div",13),r.Ub(1,"span",14),r.Dc(2," About Community "),r.Tb(),r.Ub(3,"span",15),r.Dc(4),r.Tb(),r.Bc(5,nn,2,3,"span",16),r.Bc(6,on,2,1,"span",17),r.Ub(7,"span",18),r.Dc(8),r.Tb(),r.Ub(9,"div",19),r.Pb(10,"mat-divider"),r.Tb(),r.Ub(11,"div",20),r.Bc(12,rn,2,1,"span",21),r.Ub(13,"span",22),r.Ub(14,"mat-icon"),r.Dc(15,"calendar_today"),r.Tb(),r.Pb(16,"span"),r.Dc(17),r.hc(18,"date"),r.Tb(),r.Tb(),r.Ub(19,"div",19),r.Pb(20,"mat-divider"),r.Tb(),r.Ub(21,"div",23),r.Bc(22,sn,3,0,"ng-container",24),r.Bc(23,un,3,2,"ng-template",null,25,r.Cc),r.Ub(25,"button",26),r.Dc(26,"Invite Users"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.rc(24),e=r.gc();r.Db(4),r.Fc("g/",null==e.group?null:e.group.name,""),r.Db(1),r.mc("ngIf",e.group.description),r.Db(1),r.mc("ngIf",!e.group.description),r.Db(2),r.Fc("",e.group.group_type," group"),r.Db(4),r.mc("ngIf",e.group.members_count),r.Db(5),r.Fc(" Created ",r.ic(18,8,e.group.created_at)," "),r.Db(5),r.mc("ngIf",!e.group.member_status)("ngIfElse",t)}}function bn(t,e){1&t&&r.Pb(0,"mat-divider")}function dn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-expansion-panel",37),r.Ub(2,"mat-expansion-panel-header",38),r.Ub(3,"b",39),r.Dc(4),r.Tb(),r.Tb(),r.Pb(5,"p",40),r.hc(6,"safeContent"),r.Tb(),r.Bc(7,bn,1,0,"mat-divider",41),r.Rb()),2&t){const t=e.$implicit,n=e.last;r.Db(4),r.Fc(" ",t.title," "),r.Db(1),r.mc("innerHtml",r.ic(6,3,t.description),r.uc),r.Db(2),r.mc("ngIf",!n)}}function pn(t,e){if(1&t&&(r.Ub(0,"div",34),r.Ub(1,"div",0),r.Ub(2,"span",14),r.Dc(3," Community Rules "),r.Tb(),r.Ub(4,"div",35),r.Bc(5,dn,8,5,"ng-container",36),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(5),r.mc("ngForOf",null==t.group?null:t.group.rules)}}const mn=function(t){return["../../../user",t]};function gn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"a",45),r.Pb(2,"img",46),r.Dc(3),r.Tb(),r.Rb()),2&t){const t=e.$implicit;r.Db(1),r.mc("routerLink",r.oc(2,mn,t.user.username)),r.Db(2),r.Fc(" u/",t.user.username," ")}}function hn(t,e){if(1&t&&(r.Ub(0,"div",42),r.Ub(1,"div",43),r.Ub(2,"span",14),r.Dc(3," Moderators "),r.Tb(),r.Ub(4,"div",44),r.Ub(5,"mat-nav-list"),r.Bc(6,gn,4,4,"ng-container",36),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(6),r.mc("ngForOf",t.moderators.slice(0,5))}}let fn=(()=>{class t{constructor(t,e,n,o,r){this.router=t,this.route=e,this.userService=n,this.groupService=o,this.dialog=r,this.moderators=[]}ngOnInit(){this.group_id=this.route.snapshot.params.id,this.getAuthUser(),this.getGroupDetail(this.group_id)}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})})}getGroupDetail(t){this.groupService.getGroupDetail(t).subscribe(t=>{console.log(t),this.group=t,this.getModerators()},t=>{console.log(t)})}getModerators(){this.groupService.filterMembers("MODERATOR",this.group.id,"").subscribe(t=>{this.moderators=t.results})}joinGroup(){this.user&&this.groupService.joinGroup(this.group.id,{group:this.group.id,user:this.user.id}).subscribe(t=>{this.group.member_status=t})}cancel(){this.user&&this.dialog.open(Ke,{data:{message:`Are you sure you want to leave the g/${this.group.name} group?`},height:"205px",width:"410px"}).afterClosed().subscribe(t=>{console.log(t),t&&this.groupService.cancelRequest(this.group.id,this.group.member_status.id).subscribe(t=>{t.success&&(this.group.member_status=null)})})}leaveGroup(){this.user&&this.dialog.open(Ke,{data:{message:`Are you sure you want to leave the g/${this.group.name} group?`},height:"205px",width:"410px"}).afterClosed().subscribe(t=>{console.log(t),t&&this.groupService.leaveGroup(this.group.id,{user:this.user.id,member_request:this.group.member_status.id}).subscribe(t=>{this.group.member_status=null})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.c),r.Ob(u.a),r.Ob(m),r.Ob(h),r.Ob(C.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-group"]],decls:13,vars:4,consts:[["fxLayout","column"],["fxLayout","row","fxLayoutGap","16px",1,"row-container","shadow-sm","width-100"],[1,"default-community-cover"],[1,"community-avatar","shadow-md"],["src","https://cdn-icons-png.flaticon.com/512/2170/2170765.png","alt","Community",1,"community-icon"],["fxLayout","row","fxLayoutGap","16px",1,"row-container","width-100"],["fxLayout","column","fxFlex","70","fxFlex.lt-lg","100",1,"child-container-1","group-card","shadow-sm"],[3,"group"],["fxLayout","column","fxFlex","30","fxHide.lt-lg","",1,"child-container-2"],[1,"group-card","shadow-sm","about-section"],["fxLayout","column","class","width-100",4,"ngIf"],["class","group-card shadow-sm rules-section","fxLayout","row",4,"ngIf"],["class","group-card shadow-sm related-section",4,"ngIf"],["fxLayout","column",1,"width-100"],[1,"heading-5","text-uppercase"],[1,"heading-4","font-bold","margin-top-2"],["class","margin-y-3 color-tertiary desc-text",3,"innerHtml",4,"ngIf"],["class","margin-y-3 color-tertiary desc-text",4,"ngIf"],[1,"desc-text"],[1,"margin-y-4"],["fxLayout","row","fxLayoutAlign","space-between center",1,"desc-text"],["class","font-bold",4,"ngIf"],["fxLayoutAlign","start center","fxLayoutGap","8px"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","16px",1,""],[4,"ngIf","ngIfElse"],["showMemberActions",""],["mat-stroked-button","","color","primary","fxFlex","40"],[1,"margin-y-3","color-tertiary","desc-text",3,"innerHtml"],[1,"margin-y-3","color-tertiary","desc-text"],[1,"font-bold"],["mat-flat-button","","color","primary","fxFlex","50",3,"click"],["cancelRequest",""],["mat-flat-button","","color","primary","fxFlex","60","matTooltip","Leave group",3,"click"],["mat-flat-button","","color","primary","fxFlex","60","matTooltip","Cancel request",3,"click"],["fxLayout","row",1,"group-card","shadow-sm","rules-section"],["fxLayout","column","fxLayoutGap","4px"],[4,"ngFor","ngForOf"],[2,"box-shadow","none"],[2,"padding","2px 8px"],[1,"padding-right-1"],[3,"innerHtml"],[4,"ngIf"],[1,"group-card","shadow-sm","related-section"],["fxLayout","column","fxFlex","100"],["fxLayout","column","fxLayoutGap","4px","fxFlex","100"],["mat-list-item","",3,"routerLink"],["src","https://cdn-icons-png.flaticon.com/512/552/552848.png","alt","","height","30","width","30",1,"margin-right-2"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Pb(4,"img",4),r.Tb(),r.Tb(),r.Tb(),r.Ub(5,"div",5),r.Ub(6,"div",6),r.Pb(7,"app-group-feed",7),r.Tb(),r.Ub(8,"div",8),r.Ub(9,"div",9),r.Bc(10,ln,27,10,"div",10),r.Tb(),r.Bc(11,pn,6,1,"div",11),r.Bc(12,hn,7,1,"div",12),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(7),r.mc("group",e.group),r.Db(3),r.mc("ngIf",e.group),r.Db(1),r.mc("ngIf",e.group&&(null==e.group.rules?null:e.group.rules.length)),r.Db(1),r.mc("ngIf",e.moderators.length))},directives:[f.c,f.d,f.a,Qe,v.b,s.l,Ze.a,f.b,M.a,T.b,tn.a,s.k,en.b,en.c,x.c,x.a,u.d],pipes:[s.e,F],styles:[".group-card[_ngcontent-%COMP%]{margin:8px 0;display:flex;background:#fff;padding:16px;width:auto}.default-community-cover[_ngcontent-%COMP%], .group-card[_ngcontent-%COMP%]{border:1px solid #dedede;border-radius:8px}.default-community-cover[_ngcontent-%COMP%]{background:#cb2d3e;background:linear-gradient(90deg,#ef473a,#cb2d3e);width:100%;height:250px;position:relative}.community-avatar[_ngcontent-%COMP%]{background-color:#e6e6e6;height:140px;width:140px;position:absolute;left:10%;bottom:-28%;border:4px solid #fff;border-radius:50%;z-index:1}.community-avatar[_ngcontent-%COMP%]   .community-icon[_ngcontent-%COMP%]{height:100px;width:100px;margin:15%}@media only screen and (max-width:1280px){.community-avatar[_ngcontent-%COMP%]{left:42%}}.group-creation-text[_ngcontent-%COMP%]{font-size:12px;color:#232323}.desc-text[_ngcontent-%COMP%]{font-size:14px}.row-container[_ngcontent-%COMP%]{width:100%}.child-container-1[_ngcontent-%COMP%]{padding-top:60px}.about-section[_ngcontent-%COMP%], .related-section[_ngcontent-%COMP%], .rules-section[_ngcontent-%COMP%]{min-height:160px}"]}),t})(),vn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-group-router"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:[u.f],styles:[""]}),t})(),xn=(()=>{class t{constructor(t,e,n,o){this.groupService=t,this.userService=e,this.router=n,this.route=o}ngOnInit(){const t=this.route.snapshot.params.id;t&&this.getGroupDetail(t),this.getAuthUser()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t,console.log(this.user)})})}getGroupDetail(t){this.groupService.getGroupDetail(t).subscribe(t=>{this.group=t},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(h),r.Ob(m),r.Ob(u.c),r.Ob(u.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-group-post"]],decls:1,vars:1,consts:[[3,"group"]],template:function(t,e){1&t&&r.Pb(0,"app-create-post",0),2&t&&r.mc("group",e.group)},directives:[yt],styles:[".create-group-post[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:0;width:100%;margin:16px 0}"]}),t})();var _n=n("QibW");function Un(t,e){if(1&t&&(r.Ub(0,"mat-hint",15),r.Dc(1),r.Tb()),2&t){r.gc();const t=r.rc(8);r.Db(1),r.Fc("Title will appear as g/",t.value,"")}}function wn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-radio-button",18),r.Dc(2),r.Tb(),r.Rb()),2&t){const t=e.$implicit;r.Db(1),r.mc("value",t.value),r.Db(1),r.Fc(" ",t.title," ")}}function yn(t,e){if(1&t&&(r.Ub(0,"mat-radio-group",16),r.Bc(1,wn,3,2,"ng-container",17),r.Tb()),2&t){const t=r.gc();r.Db(1),r.mc("ngForOf",t.types)}}function Cn(t,e){if(1&t&&(r.Ub(0,"li",19),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Gc("",t.title,": ",t.info,"")}}let Dn=(()=>{class t{constructor(t,e,n,o){this.dialogRef=t,this.data=e,this.router=n,this.groupService=o,this.new=!0,this.types=[{title:"Public",value:"PUBLIC",info:"Anyone can view, post, and comment to this community."},{title:"Restricted",value:"RESTRICTED",info:"Anyone can view this community, but only approved users can post."},{title:"Private",value:"Private",info:"Only approved users can view and submit to this community."}]}ngOnInit(){console.log(this.data),this.user=this.data.user,this.initialize()}initialize(){this.groupForm=new c.f({title:new c.d("",{validators:[c.r.required]}),description:new c.d("",{validators:[c.r.required]}),type:new c.d(this.types[0].value,{validators:[c.r.required]})}),this.groupForm.valueChanges.pipe(Object(ht.a)(1e3),Object(ft.a)()).subscribe(t=>{console.log(t)})}close(){this.dialogRef.close()}submit(){const t={name:this.groupForm.controls.title.value,description:this.groupForm.controls.description.value,group_type:this.groupForm.controls.type.value.toUpperCase()};this.groupService.createGroup(t).subscribe(t=>{console.log(t),this.close(),this.router.navigate(["group",t.id])},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(C.f),r.Ob(C.a),r.Ob(u.c),r.Ob(h))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-create-group"]],decls:26,vars:6,consts:[[1,"create-group"],[1,"group-form",3,"formGroup"],[1,"font-bold"],["appearance","outline",1,"width-100"],["matInput","","maxlength","25","formControlName","title","placeholder","Title"],["title",""],["align","end"],["align","start",4,"ngIf"],["matInput","","formControlName","description","placeholder","Tell everyone what this group is about","cdkTextareaAutosize","","cdkAutosizeMinRows","2",1,"font-sm"],["id","example-radio-group-label"],["aria-labelledby","example-radio-group-label","class","example-radio-group","color","warn","formControlName","type",4,"ngIf"],["class","sub-text",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click"],["align","start"],["aria-labelledby","example-radio-group-label","color","warn","formControlName","type",1,"example-radio-group"],[4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],[1,"sub-text"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"form",1),r.Ub(2,"p",2),r.Dc(3,"Create a community"),r.Tb(),r.Ub(4,"mat-form-field",3),r.Ub(5,"mat-label"),r.Dc(6,"Title"),r.Tb(),r.Pb(7,"input",4,5),r.Ub(9,"mat-hint",6),r.Dc(10),r.Tb(),r.Bc(11,Un,2,1,"mat-hint",7),r.Pb(12,"br"),r.Tb(),r.Ub(13,"mat-form-field",3),r.Ub(14,"textarea",8),r.Dc(15,"      "),r.Tb(),r.Tb(),r.Ub(16,"label",9),r.Dc(17,"Select your group type"),r.Tb(),r.Bc(18,yn,2,1,"mat-radio-group",10),r.Ub(19,"ul"),r.Bc(20,Cn,2,2,"li",11),r.Tb(),r.Ub(21,"div",12),r.Ub(22,"button",13),r.cc("click",function(){return e.close()}),r.Dc(23,"Cancel"),r.Tb(),r.Ub(24,"button",14),r.cc("click",function(){return e.submit()}),r.Dc(25,"Create"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.rc(8);r.Db(1),r.mc("formGroup",e.groupForm),r.Db(9),r.Fc("",t.value.length," / 25"),r.Db(1),r.mc("ngIf",t.value),r.Db(7),r.mc("ngIf",e.types.length),r.Db(2),r.mc("ngForOf",e.types),r.Db(4),r.mc("disabled",!e.groupForm.valid)}},directives:[c.s,c.n,c.g,ut.b,ut.f,at.b,c.c,c.i,c.m,c.e,ut.e,s.l,Dt.b,s.k,f.c,f.b,f.d,T.b,_n.b,_n.a],styles:[".create-group-section[_ngcontent-%COMP%]{margin:8px 0;border:1px solid #dedede;border-radius:8px;display:flex;background:#fff;padding:16px;width:auto}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.sub-text[_ngcontent-%COMP%]{font-size:12px;color:#707070}"]}),t})();function Pn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-icon",12),r.Dc(2,"people"),r.Tb(),r.Ub(3,"span",9),r.Dc(4),r.Tb(),r.Rb()),2&t){const t=r.gc().$implicit;r.Db(4),r.Fc(" ",t.group_type," ")}}function Tn(t,e){if(1&t&&(r.Ub(0,"mat-icon",12),r.Dc(1,"lock"),r.Tb(),r.Ub(2,"span",9),r.Dc(3),r.Tb()),2&t){const t=r.gc().$implicit;r.Db(3),r.Fc(" ",t.group_type," ")}}const On=function(t){return["../group",t]};function kn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"a",13),r.Dc(2,"Join group"),r.Tb(),r.Rb()),2&t){const t=r.gc().$implicit;r.Db(1),r.mc("routerLink",r.oc(1,On,t.id))}}function In(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"a",13),r.Dc(2,"Leave group"),r.Tb(),r.Rb()),2&t){const t=r.gc(2).$implicit;r.Db(1),r.mc("routerLink",r.oc(1,On,t.id))}}function Mn(t,e){if(1&t&&(r.Ub(0,"a",15),r.Dc(1,"Cancel pending request"),r.Tb()),2&t){const t=r.gc(2).$implicit;r.mc("routerLink",r.oc(1,On,t.id))}}function Ln(t,e){if(1&t&&(r.Bc(0,In,3,3,"ng-container",7),r.Bc(1,Mn,2,3,"ng-template",null,14,r.Cc)),2&t){const t=r.rc(2),e=r.gc().$implicit;r.mc("ngIf",e.member_status&&e.member_status.is_approved)("ngIfElse",t)}}function Sn(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-card",4),r.Ub(2,"a",5),r.Dc(3),r.Tb(),r.Ub(4,"p"),r.Dc(5),r.Tb(),r.Ub(6,"div",6),r.Bc(7,Pn,5,1,"ng-container",7),r.Bc(8,Tn,4,1,"ng-template",null,8,r.Cc),r.Ub(10,"span",9),r.Dc(11),r.Tb(),r.Tb(),r.Ub(12,"div",10),r.Bc(13,kn,3,3,"ng-container",7),r.Bc(14,Ln,3,2,"ng-template",null,11,r.Cc),r.Tb(),r.Tb(),r.Rb()),2&t){const t=e.$implicit,n=r.rc(9),o=r.rc(15);r.Db(2),r.mc("routerLink",r.oc(8,On,t.id)),r.Db(1),r.Fc(" g/",t.name," "),r.Db(2),r.Fc(" ",t.description," "),r.Db(2),r.mc("ngIf","PUBLIC"==t.group_type)("ngIfElse",n),r.Db(4),r.Fc("",t.members," Member(s)"),r.Db(2),r.mc("ngIf",!t.member_status)("ngIfElse",o)}}function Fn(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"div",2),r.Bc(2,Sn,16,10,"ng-container",3),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(2),r.mc("ngForOf",t.groups)}}const Bn=[{path:"",component:st},{path:"search",component:ee},{path:"create",component:yt},{path:"sign-in",component:bt},{path:"sign-up",component:pt},{path:"logout",component:mt},{path:"all_groups",component:(()=>{class t{constructor(t,e,n,o,r){this.router=t,this.route=e,this.userService=n,this.groupService=o,this.dialog=r,this.groups=[]}ngOnInit(){this.getGroups(),this.getAuthUser()}getGroups(){this.groupService.getGroups().subscribe(t=>{this.groups=t})}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t})})}joinGroup(t){this.router.navigate(["groups",t])}cancel(t){this.router.navigate(["groups",t])}leaveGroup(t){this.router.navigate(["groups",t])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.c),r.Ob(u.a),r.Ob(m),r.Ob(h),r.Ob(C.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-group-search"]],decls:1,vars:1,consts:[["fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center"],[1,"group-grid"],[4,"ngFor","ngForOf"],[1,"group-item"],[1,"font-bold",3,"routerLink"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",1,""],[4,"ngIf","ngIfElse"],["otherGroupType",""],[1,"subtext"],["fxLayout","row","fxLayoutAlign","center center",1,"margin-top-5"],["showMemberActions",""],[1,"color-tertiary"],["mat-flat-button","","color","primary","fxFlex","50",3,"routerLink"],["cancelRequest",""],["mat-flat-button","","color","primary","fxFlex","60",3,"routerLink"]],template:function(t,e){1&t&&r.Bc(0,Fn,3,1,"div",0),2&t&&r.mc("ngIf",e.groups)},directives:[s.l,f.c,f.b,s.k,_.a,u.d,f.d,M.a,T.a,f.a],styles:[".group-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center}.group-item[_ngcontent-%COMP%]{max-width:300px;width:100%;min-height:100px;box-shadow:none;border:1px solid #dedede;border-radius:8px;padding:16px;display:flex;flex-direction:column;justify-content:space-between}.group-item[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{font-size:.75rem;color:#707070}"]}),t})()},{path:"user/:username",component:je},{path:"group",component:vn,children:[{path:"create-new",canActivate:[gt],component:Dn},{path:":id",children:[{path:"",component:fn},{path:"submit-post",canActivate:[gt],component:xn}]},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:":uuid",component:Kt},{path:"**",redirectTo:""}];let Rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[u.e.forRoot(Bn)],u.e]}),t})();var En=n("u47x"),Gn=n("cH1L"),An=n("UXJo"),zn=n("5+WD"),Vn=n("GU7r"),jn=n("rDax"),$n=n("nLfN"),qn=n("+rOU"),Nn=n("B/XX"),Hn=n("f6nW"),Yn=n("FvrZ"),Kn=n("/1cH"),Xn=n("TU8p"),Jn=n("2ChS"),Wn=n("bSwM"),Qn=n("A5z7"),Zn=n("iadO"),to=n("zkoq"),eo=n("M9IT"),no=n("bv9b"),oo=n("d3UM"),ro=n("XhcP"),io=n("1jcm"),so=n("5RNC"),co=n("Dh3D"),ao=n("xHqg"),uo=n("+0xr"),lo=n("/t3+"),bo=n("8yBR");let po=(()=>{class t{constructor(t){this.matIconRegistry=t}static forRoot(){return{ngModule:t,providers:[M.c]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(M.c))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[],imports:[[Kn.a,Xn.a,T.c,P.c,Jn.a,_.c,Wn.a,Qn.a,ao.a,Zn.a,C.e,en.a,ut.d,to.a,M.b,at.c,x.b,L.c,eo.a,no.a,X.a,_n.c,J.s,oo.b,ro.a,so.a,io.a,ct.b,co.a,uo.a,ne.c,lo.b,tn.b,bo.a,J.l,En.a,Gn.a,Vn.c,jn.f,$n.b,qn.f,Nn.e,Hn.r,Yn.d,zn.a,An.a],Kn.a,Xn.a,T.c,P.c,Jn.a,_.c,Wn.a,Qn.a,ao.a,Zn.a,C.e,en.a,ut.d,to.a,M.b,at.c,x.b,L.c,eo.a,no.a,X.a,_n.c,J.s,oo.b,ro.a,so.a,io.a,ct.b,co.a,uo.a,ne.c,lo.b,tn.b,bo.a,J.l,En.a,Gn.a,Vn.c,jn.f,$n.b,qn.f,Nn.e,Hn.r,Yn.d,zn.a,An.a]}),t})();var mo=n("b6Qw");function go(t,e){if(1&t&&(r.Ub(0,"div",6),r.Dc(1),r.Tb()),2&t){const t=r.gc();r.Db(1),r.Gc(" \u2705 Angular App is Working! User: ",(null==t.user?null:t.user.username)||"Not logged in"," - Time: ",t.currentTime," ")}}const ho=function(){return["create"]},fo=function(){return["all_groups"]};function vo(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"a",19),r.Dc(2," Create post "),r.Tb(),r.Ub(3,"a",20),r.cc("click",function(){return r.tc(t),r.gc(2).createGroup()}),r.Dc(4," Create group "),r.Tb(),r.Ub(5,"a",19),r.Dc(6," All groups "),r.Tb(),r.Rb()}2&t&&(r.Db(1),r.mc("routerLink",r.nc(2,ho)),r.Db(4),r.mc("routerLink",r.nc(3,fo)))}const xo=function(t){return["user",t]};function _o(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",22),r.Ub(1,"a",23),r.Ub(2,"mat-icon"),r.Dc(3,"person"),r.Tb(),r.Tb(),r.Ub(4,"span",24),r.Dc(5),r.Tb(),r.Ub(6,"button",25),r.cc("click",function(){return r.tc(t),r.gc(3).logout()}),r.Ub(7,"mat-icon"),r.Dc(8,"logout"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(3);r.Db(1),r.mc("routerLink",r.oc(2,xo,t.user.username)),r.Db(4),r.Ec(null==t.user?null:t.user.username)}}function Uo(t,e){if(1&t&&(r.Sb(0),r.Bc(1,_o,9,4,"div",21),r.Rb()),2&t){const t=r.gc(2);r.Db(1),r.mc("ngIf",t.user)}}const wo=function(){return["sign-in"]};function yo(t,e){1&t&&(r.Ub(0,"div",26),r.Ub(1,"a",27),r.Dc(2,"Login"),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.mc("routerLink",r.nc(1,wo)))}const Co=function(){return[""]};function Do(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-toolbar",7),r.Ub(1,"div",8),r.Pb(2,"img",9),r.Ub(3,"a",10),r.Dc(4," Django Reddit "),r.Tb(),r.Bc(5,vo,7,4,"ng-container",11),r.Tb(),r.Ub(6,"div",12),r.Ub(7,"form",13),r.cc("ngSubmit",function(){return r.tc(t),r.gc().search()}),r.Ub(8,"button",14),r.Ub(9,"mat-icon",15),r.Dc(10,"search"),r.Tb(),r.Tb(),r.Pb(11,"input",16),r.Tb(),r.Tb(),r.Bc(12,Uo,2,1,"ng-container",17),r.Bc(13,yo,3,2,"ng-template",null,18,r.Cc),r.Tb()}if(2&t){const t=r.rc(14),e=r.gc();r.Db(3),r.mc("routerLink",r.nc(5,Co)),r.Db(2),r.mc("ngIf",e.user),r.Db(2),r.mc("formGroup",e.searchField),r.Db(5),r.mc("ngIf",e.user)("ngIfElse",t)}}function Po(t,e){1&t&&(r.Ub(0,"footer",28),r.Dc(1," Terms of policy . Privacy policy . Copyright@2022 . "),r.Ub(2,"a",29),r.Dc(3,"Madhvi N."),r.Tb(),r.Tb())}const To=function(t,e){return{"bg-container":t,"app-main":e}},Oo=function(t){return{"unauth-container":t}};let ko=(()=>{class t{constructor(t,e,n,o,r,i){this.router=t,this.userService=e,this.cookieService=n,this.storage=o,this.dialog=r,this.http=i,this.title="reddit",this.authRoute=!1,this.value="Search",this.router.events.subscribe(t=>{if(this.path=this.router.url,t instanceof u.b){const t=this.authRoute;this.authRoute=this.path.includes("sign-in")||this.path.includes("sign-up"),t&&!this.authRoute&&(console.log("Left auth route, refreshing user state"),this.refreshUserState())}}),this.path=this.router.url}ngOnInit(){var t;console.log("AppComponent ngOnInit called"),this.currentTime=(new Date).toLocaleTimeString(),this.searchField=new c.f({search:new c.d("")}),this.testApiConnectivity(),null===(t=this.userService.user)||void 0===t||t.subscribe(t=>{console.log("User state changed:",t),this.user=t});try{this.userService.fetchUser(t=>{console.log("User fetched:",t),this.user=t})}catch(e){console.error("Error fetching user:",e),this.user=null}}testApiConnectivity(){console.log("Testing API connectivity..."),this.http.get("https://work-1-otvuwyhcdtyibpym.prod-runtime.all-hands.dev/api/v1/posts/").subscribe(t=>{console.log("\u2705 API connectivity test successful:",t)},t=>{console.error("\u274c API connectivity test failed:",t)})}refreshUserState(){console.log("Refreshing user state...");try{this.userService.fetchUser(t=>{console.log("User state refreshed:",t),this.user=t})}catch(t){console.error("Error refreshing user state:",t)}}ngAfterContentChecked(){this.authRoute=!!(this.path.includes("/sign-in")||this.path.includes("/sign-up")||this.path.includes("logout"))}logout(){console.log("Logout button clicked"),this.userService.logout().subscribe(t=>{console.log("Logout response:",t),this.storage.removeItem("user"),localStorage.removeItem("auth_token"),this.userService.unsetUser(),this.user=null,window.location.href=`${b.loginUrl}`},t=>{console.log("Logout error:",t),this.storage.removeItem("user"),localStorage.removeItem("auth_token"),this.userService.unsetUser(),this.user=null,window.location.href=`${b.loginUrl}`})}createGroup(){console.log("Create group button clicked"),this.dialog.open(Dn,{data:{user:this.user},width:"600px",minHeight:"300px"}).afterClosed().subscribe(t=>{console.log(`Dialog result: ${t}`)})}search(){console.log("Search button clicked"),this.router.navigate(["search"],{queryParams:{query:this.searchField.value.search}}),this.searchField.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.c),r.Ob(m),r.Ob(mo.a),r.Ob(p),r.Ob(C.b),r.Ob(a.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:7,vars:10,consts:[[1,""],["style","background: green; color: white; padding: 5px; text-align: center;",4,"ngIf"],["color","secondary","class","header shadow-sm",4,"ngIf"],[1,"app",3,"ngClass"],[1,"container",3,"ngClass"],["class","footer",4,"ngIf"],[2,"background","green","color","white","padding","5px","text-align","center"],["color","secondary",1,"header","shadow-sm"],[1,"nav-links"],["src","/static/assets/favicon/apple-touch-icon.png","alt","Icon","height","30","width","30"],["mat-flat-button","",1,"font-bold","color-primary","navbar-brand",2,"text-decoration","none",3,"routerLink"],[4,"ngIf"],[1,"search-bar"],[1,"navbar-item-search",3,"formGroup","ngSubmit"],["mat-icon-button","",1,"search-icon-wrapper"],[1,"search-icon"],["formControlName","search","placeholder","Search","name","search","oninput","this.value = this.value.toLowerCase()",1,"search-input"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-flat-button","",1,"color-tertiary",3,"routerLink"],["mat-flat-button","",1,"color-tertiary",3,"click"],["class","buttons-section nav-links",4,"ngIf"],[1,"buttons-section","nav-links"],["mat-icon-button","",3,"routerLink"],[2,"vertical-align","middle","font-size","16px"],["mat-icon-button","","aria-label","Logout",1,"logout-icon",3,"click"],[1,"buttons-section"],["mat-button","",3,"routerLink"],[1,"footer"],["href","https://github.com/madhvi-n/django-reddit"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Bc(1,go,2,2,"div",1),r.Bc(2,Do,15,6,"mat-toolbar",2),r.Ub(3,"main",3),r.Ub(4,"div",4),r.Pb(5,"router-outlet"),r.Tb(),r.Tb(),r.Tb(),r.Bc(6,Po,4,0,"footer",5)),2&t&&(r.Db(1),r.mc("ngIf",!e.authRoute),r.Db(1),r.mc("ngIf",!e.authRoute),r.Db(1),r.mc("ngClass",r.pc(5,To,!e.authRoute,!e.authRoute)),r.Db(1),r.mc("ngClass",r.oc(8,Oo,e.authRoute)),r.Db(2),r.mc("ngIf",!e.authRoute))},directives:[s.l,s.j,v.a,u.f,lo.a,T.a,u.d,c.s,c.n,c.g,T.b,M.a,c.c,c.m,c.e],styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.sidenav[_ngcontent-%COMP%]{background:#fff;float:left;width:260px;position:fixed;top:64px;border-color:#e6e6e6;border-style:solid;border-width:0 1px 1px 0;height:100vh;z-index:1;overflow:hidden}.navbar-item-search[_ngcontent-%COMP%]{width:100%}.app-main[_ngcontent-%COMP%]{padding-top:56px}.header[_ngcontent-%COMP%]{justify-content:space-between;background-color:#fff;z-index:14;position:fixed;height:56px!important}.bg-container[_ngcontent-%COMP%]{background-color:#f5f5f5}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.container[_ngcontent-%COMP%]{min-height:calc(100vh - 56px);width:auto;overflow-x:hidden;padding:32px;max-width:1200px;margin:auto}.unauth-container[_ngcontent-%COMP%]{min-height:calc(100vh);max-width:100%;width:100%;padding:0}.search-bar[_ngcontent-%COMP%]{border:1px solid #dc281e;border-radius:25px;width:100%;max-width:500px;font-family:Roboto,sans-serif;font-size:.75rem;box-sizing:border-box;font-weight:300;display:flex}.search-bar[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding:4px 0 0 8px;color:#707070;font-size:20px}.search-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{outline:none;border:none;background:#0000;width:100%}.search-bar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-family:Roboto,sans-serif;color:#707070;font-weight:300}@media only screen and (max-width:720px){.search-bar[_ngcontent-%COMP%]{display:none}}.nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.footer[_ngcontent-%COMP%]{padding:8px 16px;color:#232323;font-weight:300;text-align:center;font-size:14px}"]}),t})(),Io=(()=>{class t{constructor(){}intercept(t,e){const n=localStorage.getItem("auth_token");let o=t.clone({withCredentials:!0});return n&&(o=o.clone({setHeaders:{Authorization:`Token ${n}`}})),e.handle(o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Mo=(()=>{class t{constructor(t){this.tokenExtractor=t}intercept(t,e){const n="X-CSRFToken",o=this.tokenExtractor.getToken();return null===o||t.headers.has(n)||(t=t.clone({headers:t.headers.set(n,o)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a.e))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();var Lo=n("YUcS");function So(t,e){1&t&&(r.Ub(0,"a",6),r.Dc(1,"Reply"),r.Tb())}function Fo(t,e){1&t&&r.Dc(0,"Reply")}function Bo(t,e){1&t&&r.Dc(0,"Reply [1]")}function Ro(t,e){if(1&t&&r.Dc(0),2&t){const t=r.gc(2);r.Fc("Replies [",t.comment.child_count,"]")}}function Eo(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",7),r.cc("click",function(){return r.tc(t),r.gc().nestedReplyEvent()}),r.Bc(1,Fo,1,0,"ng-template",8),r.Bc(2,Bo,1,0,"ng-template",9),r.Bc(3,Ro,1,1,"ng-template",10),r.Tb()}if(2&t){const t=r.gc();r.mc("ngPlural",t.comment.child_count)}}const Go=function(t){return{"button-active":t}};let Ao=(()=>{class t{constructor(t){this.commentService=t,this.nested=!0,this.mention=new r.o,this.nestedReply=new r.o,this.can_reply=!0,this.nestedReplyFlag=!1,this.user_vote=0}ngOnInit(){var t,e,n;(null===(t=this.user)||void 0===t?void 0:t.id)==(null===(n=null===(e=this.comment)||void 0===e?void 0:e.user)||void 0===n?void 0:n.id)&&(this.can_reply=!1),this.checkUserVote()}checkUserVote(){this.commentService.checkUserVote(this.uuid,this.comment.id).subscribe(t=>{console.log(t),this.setVoteData(t)})}setVoteData(t){this.user_vote=null==t?void 0:t.vote,this.comment.votes=null==t?void 0:t.votes}upvoteClicked(){var t;(null===(t=this.comment)||void 0===t?void 0:t.is_removed)||(1==this.user_vote?this.removeVote():this.upvoteComment())}downvoteClicked(){var t;(null===(t=this.comment)||void 0===t?void 0:t.is_removed)||(-1==this.user_vote?this.removeVote():this.downvoteComment())}upvoteComment(){this.commentService.upvoteComment(this.uuid,this.comment.id).subscribe(t=>{this.setVoteData(t)},t=>{console.log(t)})}removeVote(){this.commentService.removeVote(this.uuid,this.comment.id).subscribe(t=>{this.setVoteData(t)},t=>{console.log(t)})}downvoteComment(){this.commentService.downvoteComment(this.uuid,this.comment.id).subscribe(t=>{console.log(t),this.setVoteData(t)},t=>{console.log(t)})}mentionUser(){this.mention.emit(this.comment.user)}nestedReplyEvent(){this.nestedReply.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ct))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment-footer"]],inputs:{comment:"comment",user:"user",uuid:"uuid",nested:"nested"},outputs:{mention:"mention",nestedReply:"nestedReply"},decls:12,vars:11,consts:[["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",1,"width-100"],["mat-icon-button","",1,"border",3,"ngClass","disabled","click"],[1,"comment-votes"],[1,""],["class","reply-btn",4,"ngIf"],["class","reply-btn",3,"ngPlural","click",4,"ngIf"],[1,"reply-btn"],[1,"reply-btn",3,"ngPlural","click"],["ngPluralCase","=0"],["ngPluralCase","=1"],["ngPluralCase","other"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"button",1),r.cc("click",function(){return e.upvoteClicked()}),r.Ub(2,"mat-icon"),r.Dc(3,"keyboard_arrow_up"),r.Tb(),r.Tb(),r.Ub(4,"p",2),r.Dc(5),r.Tb(),r.Ub(6,"button",1),r.cc("click",function(){return e.downvoteClicked()}),r.Ub(7,"mat-icon"),r.Dc(8,"keyboard_arrow_down"),r.Tb(),r.Tb(),r.Ub(9,"div",3),r.Bc(10,So,2,0,"a",4),r.Bc(11,Eo,4,1,"a",5),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.mc("ngClass",r.oc(7,Go,1==e.user_vote))("disabled",!e.user),r.Db(4),r.Ec(e.comment.votes),r.Db(1),r.mc("ngClass",r.oc(9,Go,-1==e.user_vote))("disabled",!e.user),r.Db(4),r.mc("ngIf",!e.user),r.Db(1),r.mc("ngIf",e.nested))},directives:[f.c,f.b,f.d,T.b,s.j,v.a,M.a,s.l,s.m,s.n],styles:[".button-active[_ngcontent-%COMP%]{color:#dc281e!important;border:1px solid #dc281e!important;border-radius:50%}.button-inactive[_ngcontent-%COMP%]{color:#545454;border:1px solid #d3d3d3;border-radius:50%}.reply-btn[_ngcontent-%COMP%]{text-decoration:none;margin-left:8px;border:1px solid #d3d3d3;padding:6px 12px;border-radius:4px;font-size:12px;line-height:16.41px;color:#232323;font-weight:400;cursor:pointer}.mat-icon-button[_ngcontent-%COMP%]{line-height:30px;width:30px;height:30px}.border[_ngcontent-%COMP%]{border:1px solid #dedede}.comment-votes[_ngcontent-%COMP%]{margin:8px 0}"]}),t})();function zo(t,e){1&t&&(r.Ub(0,"span"),r.Dc(1," (edited) "),r.Tb())}function Vo(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",25),r.cc("click",function(){return r.tc(t),r.gc(4).editComment()}),r.Ub(1,"span"),r.Dc(2,"Edit"),r.Tb(),r.Tb()}}function jo(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",25),r.cc("click",function(){r.tc(t);const e=r.gc(4);return e.removeComment(e.comment)}),r.Ub(1,"span"),r.Dc(2,"Delete"),r.Tb(),r.Tb()}}function $o(t,e){if(1&t&&(r.Ub(0,"div",20),r.Ub(1,"button",21),r.Ub(2,"mat-icon",22),r.Dc(3,"more_vert"),r.Tb(),r.Tb(),r.Ub(4,"mat-menu",null,23),r.Bc(6,Vo,3,0,"button",24),r.Bc(7,jo,3,0,"button",24),r.Tb(),r.Tb()),2&t){const t=r.rc(5),e=r.gc(3);r.Db(1),r.mc("matMenuTriggerFor",t),r.Db(5),r.mc("ngIf",e.can_edit),r.Db(1),r.mc("ngIf",e.can_edit)}}function qo(t,e){if(1&t&&(r.Ub(0,"span",26),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Gc("",t.first_name?t.first_name:"Jane"," ",t.last_name?t.last_name:"Doe","")}}function No(t,e){if(1&t&&(r.Ub(0,"span"),r.Dc(1),r.Tb()),2&t){const t=r.gc(3);r.Db(1),r.Ec(t.comment.comment)}}function Ho(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",4),r.Ub(1,"div",5),r.Pb(2,"img",6),r.Tb(),r.Ub(3,"div",7),r.Ub(4,"div",8),r.Ub(5,"div",9),r.Ub(6,"span",10),r.Dc(7),r.Tb(),r.Tb(),r.Ub(8,"div",11),r.Ub(9,"div",12),r.Ub(10,"div",13),r.Ub(11,"p",14),r.Ub(12,"i"),r.Bc(13,zo,2,0,"span",0),r.Dc(14),r.hc(15,"timeSince"),r.Tb(),r.Tb(),r.Tb(),r.Bc(16,$o,8,3,"div",15),r.Tb(),r.Tb(),r.Tb(),r.Ub(17,"div",16),r.Ub(18,"p",17),r.Bc(19,qo,2,2,"span",18),r.Bc(20,No,2,1,"span",0),r.Tb(),r.Tb(),r.Ub(21,"div",8),r.Ub(22,"app-comment-footer",19),r.cc("mention",function(e){return r.tc(t),r.gc(2).userMentioned(e)})("nestedReply",function(e){return r.tc(t),r.gc(2).nestedReplyEvent(e)}),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Db(7),r.Fc(" ",t.comment.user.username," "),r.Db(6),r.mc("ngIf",t.comment.edited),r.Db(1),r.Fc(" ",r.ic(15,10,t.comment.updated_at)," ago"),r.Db(2),r.mc("ngIf",t.can_edit),r.Db(3),r.mc("ngForOf",t.comment.mentioned_users),r.Db(1),r.mc("ngIf",t.comment.comment),r.Db(2),r.mc("comment",t.comment)("user",t.user)("uuid",t.uuid)("nested",t.nested)}}function Yo(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",4),r.Ub(1,"app-comment-edit",27),r.cc("comment_response",function(e){return r.tc(t),r.gc(2).commentEditted(e)}),r.Tb(),r.Tb()}if(2&t){const t=r.gc(2);r.Db(1),r.mc("user",t.user)("uuid",t.uuid)("new",!1)("comment_obj",t.comment)("source",t.source)("nested",t.nested)}}function Ko(t,e){if(1&t&&(r.Ub(0,"div"),r.Bc(1,Ho,23,12,"div",3),r.Bc(2,Yo,2,6,"div",3),r.Tb()),2&t){const t=r.gc();r.Db(1),r.mc("ngIf",t.comment&&!t.edit_mode),r.Db(1),r.mc("ngIf",t.edit_mode)}}function Xo(t,e){if(1&t&&(r.Ub(0,"div",28),r.Ub(1,"div",29),r.Pb(2,"img",30),r.Tb(),r.Ub(3,"div",7),r.Ub(4,"div",31),r.Ub(5,"i"),r.Dc(6),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Db(6),r.Ec(t.comment.comment)}}function Jo(t,e){if(1&t&&(r.Ub(0,"div",32),r.Pb(1,"app-comment-group",33),r.Tb()),2&t){const t=r.gc();r.Db(1),r.mc("uuid",t.uuid)("user",t.user)("nested",t.nested)("max_nest_depth",t.max_nest_depth)("current_nest_depth",t.current_nest_depth+1)("parent",t.comment.id)("child_group",!0)}}let Wo=(()=>{class t{constructor(t,e,n){this.userService=t,this.commentService=e,this.dialog=n,this.nested=!0,this.max_nested_depth=0,this.current_nest_depth=0,this.can_edit=!1,this.edit_mode=!1,this.nested_reply_event=!1,this.expanded=!1,this.removed=new r.o,this.mentioned=new r.o}ngOnInit(){this.getAuthUser()}getAuthUser(){this.userService.userInitialized.subscribe(t=>{t&&this.userService.user.subscribe(t=>{this.user=t,this.checkAuthUser()})})}checkAuthUser(){this.comment.user.id===this.user.id&&(this.can_edit=!0)}toggle(){this.expanded=!this.expanded}nestedReplyEvent(t){this.nested_reply_event=t}editComment(){this.edit_mode=!0}commentEditted(t){this.comment=t,this.edit_mode=!1}userMentioned(t){this.mentioned.emit(t)}removeComment(t){this.dialog.open(Ke,{width:"380px",height:"200px",data:{message:"Are you sure you want to\n          delete this comment?",okayButtonText:"Yes"}}).afterClosed().subscribe(e=>{e&&this.commentService.removeComment(this.uuid,t.id).subscribe(e=>{0===t.child_count?this.removed.emit(t):(t.comment="This comment has been removed",t.is_removed=!0)},t=>{console.log(t)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(Ct),r.Ob(C.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-comment"]],inputs:{comment:"comment",user:"user",uuid:"uuid",nested:"nested",max_nested_depth:"max_nested_depth",current_nest_depth:"current_nest_depth"},outputs:{removed:"removed",mentioned:"mentioned"},decls:3,vars:3,consts:[[4,"ngIf"],["style","width:100%; margin:16px 0; padding: 16px 0",4,"ngIf"],["style","border-left: 1px solid #d5d5d5; margin-left: 20px; padding-left: 22px",4,"ngIf"],["fxLayout","row","style","width:100%; margin:16px 0; padding: 16px 0",4,"ngIf"],["fxLayout","row",2,"width","100%","margin","16px 0","padding","16px 0"],["fxLayout","column","fxFlex","56px",1,"col-user"],["src","/static/assets/images/default_user.png","alt","",1,"user-avatar"],["fxLayout","column","fxFlex","90"],["fxLayout","row",1,"margin-0"],["fxLayout","column","fxFlex","50"],[1,"font-bold","color-primary"],["fxLayout","column","fxLayoutAlign","center end","fxFlex","50"],["fxLayout","row","fxFlex","",1,"width-100"],["fxLayout","column","fxFlex","100","fxLayoutAlign","center end"],[1,"grey-700","font-xxs","margin-0",2,"margin","5px 0"],["fxLayout","column","fxLayoutAlign","center end","fxFlex","20",4,"ngIf"],["fxLayout","row"],[1,"comment-text",2,"line-height","21px","white-space","pre-line","margin","0","margin-bottom","12px"],["style","padding-right:4px; color:#f15a24",4,"ngFor","ngForOf"],[3,"comment","user","uuid","nested","mention","nestedReply"],["fxLayout","column","fxLayoutAlign","center end","fxFlex","20"],["mat-icon-button","",2,"height","30px","width","30px",3,"matMenuTriggerFor"],[2,"vertical-align","baseline"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[2,"padding-right","4px","color","#f15a24"],[2,"width","100%",3,"user","uuid","new","comment_obj","source","nested","comment_response"],[2,"width","100%","margin","16px 0","padding","16px 0"],["fxLayout","column","fxFlex","8.65",1,"col-user"],["src","/static/assets/images/default_user.png","alt",""],["fxLayout","row","fxLayoutAlign","center center",1,"font-xs",2,"height","40px","background","#f4f4f4","border-radius","12px"],[2,"border-left","1px solid #d5d5d5","margin-left","20px","padding-left","22px"],[3,"uuid","user","nested","max_nest_depth","current_nest_depth","parent","child_group"]],template:function(t,e){1&t&&(r.Bc(0,Ko,3,2,"div",0),r.Bc(1,Xo,7,1,"div",1),r.Bc(2,Jo,2,7,"div",2)),2&t&&(r.mc("ngIf",e.comment&&!e.comment.is_removed),r.Db(1),r.mc("ngIf",e.comment.is_removed),r.Db(1),r.mc("ngIf",e.nested&&e.nested_reply_event))},directives:[s.l,f.c,f.a,f.b,s.k,Ao,T.b,L.d,M.a,L.a,L.b,Ot,qt],pipes:[S.b],styles:[".user-avatar[_ngcontent-%COMP%]{height:40px;width:40px}.grey-700[_ngcontent-%COMP%]{color:#707070}.font-xxs[_ngcontent-%COMP%]{font-size:.75rem}@media (max-width:640px){.col-user[_ngcontent-%COMP%]{max-width:15%!important}}.comment-text[_ngcontent-%COMP%]{font-size:14px;line-height:22px;white-space:inherit;margin:0 0 12px}  .mat-menu-item{line-height:30px;padding:0 12px;height:40px}  .mat-menu-content:not(:empty){padding-top:0;padding-bottom:0}  .mat-menu-panel{border-radius:8px;min-height:inherit}"]}),t})(),Qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t,bootstrap:[ko]}),t.\u0275inj=r.Lb({providers:[mo.a,{provide:a.a,useClass:Io,multi:!0},{provide:a.a,useClass:Mo,multi:!0}],imports:[[o.a,c.h,S.a,Lo.a,c.p,a.c,a.d.withOptions({cookieName:"csrftoken",headerName:"X-CSRFToken"}),i.b,s.c,S.a,po.forRoot(),xt.b,Rn]]}),t})();r.wc(Bt,[s.l,s.k,Wo],[]),n("1uSB"),b.production&&Object(r.U)(),o.c().bootstrapModule(Qo).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,4]]]);